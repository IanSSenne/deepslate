/*! For license information please see common.fe526933.js.LICENSE.txt */
(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[592],{3905:function(t,e,i){"use strict";i.d(e,{Zo:function(){return u},kt:function(){return f}});var n=i(7294);function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e){if(null==t)return{};var i,n,s=function(t,e){if(null==t)return{};var i,n,s={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}var l=n.createContext({}),h=function(t){var e=n.useContext(l),i=e;return t&&(i="function"==typeof t?t(e):o(o({},e),t)),i},u=function(t){var e=h(t.components);return n.createElement(l.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var i=t.components,s=t.mdxType,r=t.originalType,l=t.parentName,u=a(t,["components","mdxType","originalType","parentName"]),d=h(i),f=s,g=d["".concat(l,".").concat(f)]||d[f]||c[f]||r;return i?n.createElement(g,o(o({ref:e},u),{},{components:i})):n.createElement(g,o({ref:e},u))}));function f(t,e){var i=arguments,s=e&&e.mdxType;if("string"==typeof t||s){var r=i.length,o=new Array(r);o[0]=d;var a={};for(var l in e)hasOwnProperty.call(e,l)&&(a[l]=e[l]);a.originalType=t,a.mdxType="string"==typeof t?t:s,o[1]=a;for(var h=2;h<r;h++)o[h]=i[h];return n.createElement.apply(null,o)}return n.createElement.apply(null,i)}d.displayName="MDXCreateElement"},487:function(t){var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=e},1012:function(t){var e,i;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var i=[],n=0;n<t.length;n+=3)for(var s=t[n]<<16|t[n+1]<<8|t[n+2],r=0;r<4;r++)8*n+6*r<=8*t.length?i.push(e.charAt(s>>>6*(3-r)&63)):i.push("=");return i.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,s=0;n<t.length;s=++n%4)0!=s&&i.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|e.indexOf(t.charAt(n))>>>6-2*s);return i}},t.exports=i},69:function(t,e,i){"use strict";i.d(e,{Vj:function(){return en},dy:function(){return wn},yJ:function(){return Fn},uE:function(){return Di},z:function(){return ji},nE:function(){return Ni},k7:function(){return Tn},xc:function(){return Qi},nW:function(){return $i},iD:function(){return Hn},LC:function(){return Vn},HP:function(){return Wn},n1:function(){return Un},YK:function(){return nn},Fc:function(){return tn},MQ:function(){return sn},LX:function(){return Ki},$y:function(){return rn},vA:function(){return Hi},Hi:function(){return Pn},bg:function(){return On},Yi:function(){return Cn},ij:function(){return Ci}});function n(t){let e=t.length;for(;--e>=0;)t[e]=0}const s=256,r=286,o=30,a=15,l=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Array(576);n(d);const f=new Array(60);n(f);const g=new Array(512);n(g);const p=new Array(256);n(p);const m=new Array(29);n(m);const _=new Array(o);function v(t,e,i,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let w,b,y;function k(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(_);const x=t=>t<256?g[t]:g[256+(t>>>7)],F=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},A=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,F(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},B=(t,e,i)=>{A(t,i[2*e],i[2*e+1])},E=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},I=(t,e,i)=>{const n=new Array(16);let s,r,o=0;for(s=1;s<=a;s++)n[s]=o=o+i[s-1]<<1;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=E(n[e]++,e))}},S=t=>{let e;for(e=0;e<r;e++)t.dyn_ltree[2*e]=0;for(e=0;e<o;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},P=t=>{t.bi_valid>8?F(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},R=(t,e,i,n)=>{const s=2*e,r=2*i;return t[s]<t[r]||t[s]===t[r]&&n[e]<=n[i]},C=(t,e,i)=>{const n=t.heap[i];let s=i<<1;for(;s<=t.heap_len&&(s<t.heap_len&&R(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!R(e,n,t.heap[s],t.depth));)t.heap[i]=t.heap[s],i=s,s<<=1;t.heap[i]=n},T=(t,e,i)=>{let n,r,o,a,u=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],r=t.pending_buf[t.l_buf+u],u++,0===n?B(t,r,e):(o=p[r],B(t,o+s+1,e),a=l[o],0!==a&&(r-=m[o],A(t,r,a)),n--,o=x(n),B(t,o,i),a=h[o],0!==a&&(n-=_[o],A(t,n,a)))}while(u<t.last_lit);B(t,256,e)},O=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,l,h,u=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<r;o++)0!==i[2*o]?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):i[2*o+1]=0;for(;t.heap_len<2;)h=t.heap[++t.heap_len]=u<2?++u:0,i[2*h]=1,t.depth[h]=0,t.opt_len--,s&&(t.static_len-=n[2*h+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)C(t,i,o);h=r;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,i,1),l=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=l,i[2*h]=i[2*o]+i[2*l],t.depth[h]=(t.depth[o]>=t.depth[l]?t.depth[o]:t.depth[l])+1,i[2*o+1]=i[2*l+1]=h,t.heap[1]=h++,C(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,n=e.max_code,s=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,h=e.stat_desc.max_length;let u,c,d,f,g,p,m=0;for(f=0;f<=a;f++)t.bl_count[f]=0;for(i[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)c=t.heap[u],f=i[2*i[2*c+1]+1]+1,f>h&&(f=h,m++),i[2*c+1]=f,c>n||(t.bl_count[f]++,g=0,c>=l&&(g=o[c-l]),p=i[2*c],t.opt_len+=p*(f+g),r&&(t.static_len+=p*(s[2*c+1]+g)));if(0!==m){do{for(f=h-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[h]--,m-=2}while(m>0);for(f=h;0!==f;f--)for(c=t.bl_count[f];0!==c;)d=t.heap[--u],d>n||(i[2*d+1]!==f&&(t.opt_len+=(f-i[2*d+1])*i[2*d],i[2*d+1]=f),c--)}})(t,e),I(i,u,t.bl_count)},M=(t,e,i)=>{let n,s,r=-1,o=e[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)s=o,o=e[2*(n+1)+1],++a<l&&s===o||(a<h?t.bl_tree[2*s]+=a:0!==s?(s!==r&&t.bl_tree[2*s]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=s,0===o?(l=138,h=3):s===o?(l=6,h=3):(l=7,h=4))},z=(t,e,i)=>{let n,s,r=-1,o=e[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),n=0;n<=i;n++)if(s=o,o=e[2*(n+1)+1],!(++a<l&&s===o)){if(a<h)do{B(t,s,t.bl_tree)}while(0!=--a);else 0!==s?(s!==r&&(B(t,s,t.bl_tree),a--),B(t,16,t.bl_tree),A(t,a-3,2)):a<=10?(B(t,17,t.bl_tree),A(t,a-3,3)):(B(t,18,t.bl_tree),A(t,a-11,7));a=0,r=s,0===o?(l=138,h=3):s===o?(l=6,h=3):(l=7,h=4)}};let N=!1;const U=(t,e,i,n)=>{A(t,0+(n?1:0),3),((t,e,i,n)=>{P(t),n&&(F(t,i),F(t,~i)),t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i})(t,e,i,!0)};var L=t=>{N||((()=>{let t,e,i,n,s;const c=new Array(16);for(i=0,n=0;n<28;n++)for(m[n]=i,t=0;t<1<<l[n];t++)p[i++]=n;for(p[i-1]=n,s=0,n=0;n<16;n++)for(_[n]=s,t=0;t<1<<h[n];t++)g[s++]=n;for(s>>=7;n<o;n++)for(_[n]=s<<7,t=0;t<1<<h[n]-7;t++)g[256+s++]=n;for(e=0;e<=a;e++)c[e]=0;for(t=0;t<=143;)d[2*t+1]=8,t++,c[8]++;for(;t<=255;)d[2*t+1]=9,t++,c[9]++;for(;t<=279;)d[2*t+1]=7,t++,c[7]++;for(;t<=287;)d[2*t+1]=8,t++,c[8]++;for(I(d,287,c),t=0;t<o;t++)f[2*t+1]=5,f[2*t]=E(t,5);w=new v(d,l,257,r,a),b=new v(f,h,0,o,a),y=new v(new Array(0),u,0,19,7)})(),N=!0),t.l_desc=new k(t.dyn_ltree,w),t.d_desc=new k(t.dyn_dtree,b),t.bl_desc=new k(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,S(t)},D=(t,e,i,n)=>{let r,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<s;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),O(t,t.l_desc),O(t,t.d_desc),a=(t=>{let e;for(M(t,t.dyn_ltree,t.l_desc.max_code),M(t,t.dyn_dtree,t.d_desc.max_code),O(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==e?U(t,e,i,n):4===t.strategy||o===r?(A(t,2+(n?1:0),3),T(t,d,f)):(A(t,4+(n?1:0),3),((t,e,i,n)=>{let s;for(A(t,e-257,5),A(t,i-1,5),A(t,n-4,4),s=0;s<n;s++)A(t,t.bl_tree[2*c[s]+1],3);z(t,t.dyn_ltree,e-1),z(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),T(t,t.dyn_ltree,t.dyn_dtree)),S(t),n&&P(t)},Z=(t,e,i)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(p[i]+s+1)]++,t.dyn_dtree[2*x(e)]++),t.last_lit===t.lit_bufsize-1),j={_tr_init:L,_tr_stored_block:U,_tr_flush_block:D,_tr_tally:Z,_tr_align:t=>{A(t,2,3),B(t,256,d),(t=>{16===t.bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var H=(t,e,i,n)=>{let s=65535&t|0,r=t>>>16&65535|0,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{s=s+e[n++]|0,r=r+s|0}while(--o);s%=65521,r%=65521}return s|r<<16|0};const Y=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());var X=(t,e,i,n)=>{const s=Y,r=n+i;t^=-1;for(let o=n;o<r;o++)t=t>>>8^s[255&(t^e[o])];return-1^t},W={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:J,_tr_stored_block:G,_tr_flush_block:$,_tr_tally:q,_tr_align:K}=j,{Z_NO_FLUSH:Q,Z_PARTIAL_FLUSH:tt,Z_FULL_FLUSH:et,Z_FINISH:it,Z_BLOCK:nt,Z_OK:st,Z_STREAM_END:rt,Z_STREAM_ERROR:ot,Z_DATA_ERROR:at,Z_BUF_ERROR:lt,Z_DEFAULT_COMPRESSION:ht,Z_FILTERED:ut,Z_HUFFMAN_ONLY:ct,Z_RLE:dt,Z_FIXED:ft,Z_DEFAULT_STRATEGY:gt,Z_UNKNOWN:pt,Z_DEFLATED:mt}=V,_t=258,vt=262,wt=103,bt=113,yt=666,kt=(t,e)=>(t.msg=W[e],e),xt=t=>(t<<1)-(t>4?9:0),Ft=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let At=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const Bt=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},Et=(t,e)=>{$(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Bt(t.strm)},It=(t,e)=>{t.pending_buf[t.pending++]=e},St=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Pt=(t,e,i,n)=>{let s=t.avail_in;return s>n&&(s=n),0===s?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),i),1===t.state.wrap?t.adler=H(t.adler,e,s,i):2===t.state.wrap&&(t.adler=X(t.adler,e,s,i)),t.next_in+=s,t.total_in+=s,s)},Rt=(t,e)=>{let i,n,s=t.max_chain_length,r=t.strstart,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-vt?t.strstart-(t.w_size-vt):0,h=t.window,u=t.w_mask,c=t.prev,d=t.strstart+_t;let f=h[r+o-1],g=h[r+o];t.prev_length>=t.good_match&&(s>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,h[i+o]===g&&h[i+o-1]===f&&h[i]===h[r]&&h[++i]===h[r+1]){r+=2,i++;do{}while(h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&r<d);if(n=_t-(d-r),r=d-_t,n>o){if(t.match_start=e,o=n,n>=a)break;f=h[r+o-1],g=h[r+o]}}}while((e=c[e&u])>l&&0!=--s);return o<=t.lookahead?o:t.lookahead},Ct=t=>{const e=t.w_size;let i,n,s,r,o;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-vt)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,i=n;do{s=t.head[--i],t.head[i]=s>=e?s-e:0}while(--n);n=e,i=n;do{s=t.prev[--i],t.prev[i]=s>=e?s-e:0}while(--n);r+=e}if(0===t.strm.avail_in)break;if(n=Pt(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=At(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=At(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<vt&&0!==t.strm.avail_in)},Tt=(t,e)=>{let i,n;for(;;){if(t.lookahead<vt){if(Ct(t),t.lookahead<vt&&e===Q)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=At(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-vt&&(t.match_length=Rt(t,i)),t.match_length>=3)if(n=q(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=At(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=At(t,t.ins_h,t.window[t.strstart+1]);else n=q(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===it?(Et(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Et(t,!1),0===t.strm.avail_out)?1:2},Ot=(t,e)=>{let i,n,s;for(;;){if(t.lookahead<vt){if(Ct(t),t.lookahead<vt&&e===Q)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=At(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-vt&&(t.match_length=Rt(t,i),t.match_length<=5&&(t.strategy===ut||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,n=q(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=At(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Et(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=q(t,0,t.window[t.strstart-1]),n&&Et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=q(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===it?(Et(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Et(t,!1),0===t.strm.avail_out)?1:2};function Mt(t,e,i,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=s}const zt=[new Mt(0,0,0,0,((t,e)=>{let i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ct(t),0===t.lookahead&&e===Q)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Et(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-vt&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===it?(Et(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Et(t,!1),t.strm.avail_out),1)})),new Mt(4,4,8,4,Tt),new Mt(4,5,16,8,Tt),new Mt(4,6,32,32,Tt),new Mt(4,4,16,16,Ot),new Mt(8,16,32,32,Ot),new Mt(8,16,128,128,Ot),new Mt(8,32,128,256,Ot),new Mt(32,128,258,1024,Ot),new Mt(32,258,258,4096,Ot)];function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ft(this.dyn_ltree),Ft(this.dyn_dtree),Ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ut=t=>{if(!t||!t.state)return kt(t,ot);t.total_in=t.total_out=0,t.data_type=pt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:bt,t.adler=2===e.wrap?0:1,e.last_flush=Q,J(e),st},Lt=t=>{const e=Ut(t);var i;return e===st&&((i=t.state).window_size=2*i.w_size,Ft(i.head),i.max_lazy_match=zt[i.level].max_lazy,i.good_match=zt[i.level].good_length,i.nice_match=zt[i.level].nice_length,i.max_chain_length=zt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},Dt=(t,e,i,n,s,r)=>{if(!t)return ot;let o=1;if(e===ht&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>9||i!==mt||n<8||n>15||e<0||e>9||r<0||r>ft)return kt(t,ot);8===n&&(n=9);const a=new Nt;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=r,a.method=i,Lt(t)};var Zt=(t,e)=>{let i=e.length;if(!t||!t.state)return ot;const n=t.state,s=n.wrap;if(2===s||1===s&&42!==n.status||n.lookahead)return ot;if(1===s&&(t.adler=H(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){0===s&&(Ft(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(i-n.w_size,i),0),e=t,i=n.w_size}const r=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Ct(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=At(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Ct(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=r,n.wrap=s,st},jt={deflateInit:(t,e)=>Dt(t,e,mt,15,8,gt),deflateInit2:Dt,deflateReset:Lt,deflateResetKeep:Ut,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?ot:(t.state.gzhead=e,st):ot,deflate:(t,e)=>{let i,n;if(!t||!t.state||e>nt||e<0)return t?kt(t,ot):ot;const s=t.state;if(!t.output||!t.input&&0!==t.avail_in||s.status===yt&&e!==it)return kt(t,0===t.avail_out?lt:ot);s.strm=t;const r=s.last_flush;if(s.last_flush=e,42===s.status)if(2===s.wrap)t.adler=0,It(s,31),It(s,139),It(s,8),s.gzhead?(It(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),It(s,255&s.gzhead.time),It(s,s.gzhead.time>>8&255),It(s,s.gzhead.time>>16&255),It(s,s.gzhead.time>>24&255),It(s,9===s.level?2:s.strategy>=ct||s.level<2?4:0),It(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(It(s,255&s.gzhead.extra.length),It(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=X(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(It(s,0),It(s,0),It(s,0),It(s,0),It(s,0),It(s,9===s.level?2:s.strategy>=ct||s.level<2?4:0),It(s,3),s.status=bt);else{let e=mt+(s.w_bits-8<<4)<<8,i=-1;i=s.strategy>=ct||s.level<2?0:s.level<6?1:6===s.level?2:3,e|=i<<6,0!==s.strstart&&(e|=32),e+=31-e%31,s.status=bt,St(s,e),0!==s.strstart&&(St(s,t.adler>>>16),St(s,65535&t.adler)),t.adler=1}if(69===s.status)if(s.gzhead.extra){for(i=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>i&&(t.adler=X(t.adler,s.pending_buf,s.pending-i,i)),Bt(t),i=s.pending,s.pending!==s.pending_buf_size));)It(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>i&&(t.adler=X(t.adler,s.pending_buf,s.pending-i,i)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){i=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>i&&(t.adler=X(t.adler,s.pending_buf,s.pending-i,i)),Bt(t),i=s.pending,s.pending===s.pending_buf_size)){n=1;break}n=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,It(s,n)}while(0!==n);s.gzhead.hcrc&&s.pending>i&&(t.adler=X(t.adler,s.pending_buf,s.pending-i,i)),0===n&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){i=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>i&&(t.adler=X(t.adler,s.pending_buf,s.pending-i,i)),Bt(t),i=s.pending,s.pending===s.pending_buf_size)){n=1;break}n=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,It(s,n)}while(0!==n);s.gzhead.hcrc&&s.pending>i&&(t.adler=X(t.adler,s.pending_buf,s.pending-i,i)),0===n&&(s.status=wt)}else s.status=wt;if(s.status===wt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&Bt(t),s.pending+2<=s.pending_buf_size&&(It(s,255&t.adler),It(s,t.adler>>8&255),t.adler=0,s.status=bt)):s.status=bt),0!==s.pending){if(Bt(t),0===t.avail_out)return s.last_flush=-1,st}else if(0===t.avail_in&&xt(e)<=xt(r)&&e!==it)return kt(t,lt);if(s.status===yt&&0!==t.avail_in)return kt(t,lt);if(0!==t.avail_in||0!==s.lookahead||e!==Q&&s.status!==yt){let i=s.strategy===ct?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(Ct(t),0===t.lookahead)){if(e===Q)return 1;break}if(t.match_length=0,i=q(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===it?(Et(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Et(t,!1),0===t.strm.avail_out)?1:2})(s,e):s.strategy===dt?((t,e)=>{let i,n,s,r;const o=t.window;for(;;){if(t.lookahead<=_t){if(Ct(t),t.lookahead<=_t&&e===Q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(s=t.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){r=t.strstart+_t;do{}while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<r);t.match_length=_t-(r-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=q(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=q(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===it?(Et(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Et(t,!1),0===t.strm.avail_out)?1:2})(s,e):zt[s.level].func(s,e);if(3!==i&&4!==i||(s.status=yt),1===i||3===i)return 0===t.avail_out&&(s.last_flush=-1),st;if(2===i&&(e===tt?K(s):e!==nt&&(G(s,0,0,!1),e===et&&(Ft(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),Bt(t),0===t.avail_out))return s.last_flush=-1,st}return e!==it?st:s.wrap<=0?rt:(2===s.wrap?(It(s,255&t.adler),It(s,t.adler>>8&255),It(s,t.adler>>16&255),It(s,t.adler>>24&255),It(s,255&t.total_in),It(s,t.total_in>>8&255),It(s,t.total_in>>16&255),It(s,t.total_in>>24&255)):(St(s,t.adler>>>16),St(s,65535&t.adler)),Bt(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?st:rt)},deflateEnd:t=>{if(!t||!t.state)return ot;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==wt&&e!==bt&&e!==yt?kt(t,ot):(t.state=null,e===bt?kt(t,at):st)},deflateSetDictionary:Zt,deflateInfo:"pako deflate (from Nodeca project)"};const Ht=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Yt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const e in i)Ht(i,e)&&(t[e]=i[e])}}return t},Xt=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const i=new Uint8Array(e);for(let n=0,s=0,r=t.length;n<r;n++){let e=t[n];i.set(e,s),s+=e.length}return i};let Wt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Jn){Wt=!1}const Vt=new Uint8Array(256);for(let Gn=0;Gn<256;Gn++)Vt[Gn]=Gn>=252?6:Gn>=248?5:Gn>=240?4:Gn>=224?3:Gn>=192?2:1;Vt[254]=Vt[254]=1;var Jt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,n,s,r,o=t.length,a=0;for(s=0;s<o;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<o&&(n=t.charCodeAt(s+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),s++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(a),r=0,s=0;r<a;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<o&&(n=t.charCodeAt(s+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),s++)),i<128?e[r++]=i:i<2048?(e[r++]=192|i>>>6,e[r++]=128|63&i):i<65536?(e[r++]=224|i>>>12,e[r++]=128|i>>>6&63,e[r++]=128|63&i):(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63,e[r++]=128|i>>>6&63,e[r++]=128|63&i);return e},Gt=(t,e)=>{const i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,s;const r=new Array(2*i);for(s=0,n=0;n<i;){let e=t[n++];if(e<128){r[s++]=e;continue}let o=Vt[e];if(o>4)r[s++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<i;)e=e<<6|63&t[n++],o--;o>1?r[s++]=65533:e<65536?r[s++]=e:(e-=65536,r[s++]=55296|e>>10&1023,r[s++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Wt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i})(r,s)},$t=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let i=e-1;for(;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+Vt[t[i]]>e?i:e};var qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Kt=Object.prototype.toString,{Z_NO_FLUSH:Qt,Z_SYNC_FLUSH:te,Z_FULL_FLUSH:ee,Z_FINISH:ie,Z_OK:ne,Z_STREAM_END:se,Z_DEFAULT_COMPRESSION:re,Z_DEFAULT_STRATEGY:oe,Z_DEFLATED:ae}=V;function le(t){this.options=Yt({level:re,method:ae,chunkSize:16384,windowBits:15,memLevel:8,strategy:oe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qt,this.strm.avail_out=0;let i=jt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==ne)throw new Error(W[i]);if(e.header&&jt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Jt(e.dictionary):"[object ArrayBuffer]"===Kt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=jt.deflateSetDictionary(this.strm,t),i!==ne)throw new Error(W[i]);this._dict_set=!0}}function he(t,e){const i=new le(e);if(i.push(t,!0),i.err)throw i.msg||W[i.err];return i.result}le.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let s,r;if(this.ended)return!1;for(r=e===~~e?e:!0===e?ie:Qt,"string"==typeof t?i.input=Jt(t):"[object ArrayBuffer]"===Kt.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===te||r===ee)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(s=jt.deflate(i,r),s===se)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),s=jt.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===ne;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},le.prototype.onData=function(t){this.chunks.push(t)},le.prototype.onEnd=function(t){t===ne&&(this.result=Xt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ue={Deflate:le,deflate:he,deflateRaw:function(t,e){return(e=e||{}).raw=!0,he(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,he(t,e)},constants:V};var ce=function(t,e){let i,n,s,r,o,a,l,h,u,c,d,f,g,p,m,_,v,w,b,y,k,x,F,A;const B=t.state;i=t.next_in,F=t.input,n=i+(t.avail_in-5),s=t.next_out,A=t.output,r=s-(e-t.avail_out),o=s+(t.avail_out-257),a=B.dmax,l=B.wsize,h=B.whave,u=B.wnext,c=B.window,d=B.hold,f=B.bits,g=B.lencode,p=B.distcode,m=(1<<B.lenbits)-1,_=(1<<B.distbits)-1;t:do{f<15&&(d+=F[i++]<<f,f+=8,d+=F[i++]<<f,f+=8),v=g[d&m];e:for(;;){if(w=v>>>24,d>>>=w,f-=w,w=v>>>16&255,0===w)A[s++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=g[(65535&v)+(d&(1<<w)-1)];continue e}if(32&w){B.mode=12;break t}t.msg="invalid literal/length code",B.mode=30;break t}b=65535&v,w&=15,w&&(f<w&&(d+=F[i++]<<f,f+=8),b+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=F[i++]<<f,f+=8,d+=F[i++]<<f,f+=8),v=p[d&_];i:for(;;){if(w=v>>>24,d>>>=w,f-=w,w=v>>>16&255,!(16&w)){if(0==(64&w)){v=p[(65535&v)+(d&(1<<w)-1)];continue i}t.msg="invalid distance code",B.mode=30;break t}if(y=65535&v,w&=15,f<w&&(d+=F[i++]<<f,f+=8,f<w&&(d+=F[i++]<<f,f+=8)),y+=d&(1<<w)-1,y>a){t.msg="invalid distance too far back",B.mode=30;break t}if(d>>>=w,f-=w,w=s-r,y>w){if(w=y-w,w>h&&B.sane){t.msg="invalid distance too far back",B.mode=30;break t}if(k=0,x=c,0===u){if(k+=l-w,w<b){b-=w;do{A[s++]=c[k++]}while(--w);k=s-y,x=A}}else if(u<w){if(k+=l+u-w,w-=u,w<b){b-=w;do{A[s++]=c[k++]}while(--w);if(k=0,u<b){w=u,b-=w;do{A[s++]=c[k++]}while(--w);k=s-y,x=A}}}else if(k+=u-w,w<b){b-=w;do{A[s++]=c[k++]}while(--w);k=s-y,x=A}for(;b>2;)A[s++]=x[k++],A[s++]=x[k++],A[s++]=x[k++],b-=3;b&&(A[s++]=x[k++],b>1&&(A[s++]=x[k++]))}else{k=s-y;do{A[s++]=A[k++],A[s++]=A[k++],A[s++]=A[k++],b-=3}while(b>2);b&&(A[s++]=A[k++],b>1&&(A[s++]=A[k++]))}break}}break}}while(i<n&&s<o);b=f>>3,i-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),B.hold=d,B.bits=f};const de=15,fe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ge=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),me=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _e=(t,e,i,n,s,r,o,a)=>{const l=a.bits;let h,u,c,d,f,g,p=0,m=0,_=0,v=0,w=0,b=0,y=0,k=0,x=0,F=0,A=null,B=0;const E=new Uint16Array(16),I=new Uint16Array(16);let S,P,R,C=null,T=0;for(p=0;p<=de;p++)E[p]=0;for(m=0;m<n;m++)E[e[i+m]]++;for(w=l,v=de;v>=1&&0===E[v];v--);if(w>v&&(w=v),0===v)return s[r++]=20971520,s[r++]=20971520,a.bits=1,0;for(_=1;_<v&&0===E[_];_++);for(w<_&&(w=_),k=1,p=1;p<=de;p++)if(k<<=1,k-=E[p],k<0)return-1;if(k>0&&(0===t||1!==v))return-1;for(I[1]=0,p=1;p<de;p++)I[p+1]=I[p]+E[p];for(m=0;m<n;m++)0!==e[i+m]&&(o[I[e[i+m]]++]=m);if(0===t?(A=C=o,g=19):1===t?(A=fe,B-=257,C=ge,T-=257,g=256):(A=pe,C=me,g=-1),F=0,m=0,p=_,f=r,b=w,y=0,c=-1,x=1<<w,d=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){S=p-y,o[m]<g?(P=0,R=o[m]):o[m]>g?(P=C[T+o[m]],R=A[B+o[m]]):(P=96,R=0),h=1<<p-y,u=1<<b,_=u;do{u-=h,s[f+(F>>y)+u]=S<<24|P<<16|R|0}while(0!==u);for(h=1<<p-1;F&h;)h>>=1;if(0!==h?(F&=h-1,F+=h):F=0,m++,0==--E[p]){if(p===v)break;p=e[i+o[m]]}if(p>w&&(F&d)!==c){for(0===y&&(y=w),f+=_,b=p-y,k=1<<b;b+y<v&&(k-=E[b+y],!(k<=0));)b++,k<<=1;if(x+=1<<b,1===t&&x>852||2===t&&x>592)return 1;c=F&d,s[c]=w<<24|b<<16|f-r|0}}return 0!==F&&(s[f+F]=p-y<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:ve,Z_BLOCK:we,Z_TREES:be,Z_OK:ye,Z_STREAM_END:ke,Z_NEED_DICT:xe,Z_STREAM_ERROR:Fe,Z_DATA_ERROR:Ae,Z_MEM_ERROR:Be,Z_BUF_ERROR:Ee,Z_DEFLATED:Ie}=V,Se=12,Pe=30,Re=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Ce(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Te=t=>{if(!t||!t.state)return Fe;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ye},Oe=t=>{if(!t||!t.state)return Fe;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Te(t)},Me=(t,e)=>{let i;if(!t||!t.state)return Fe;const n=t.state;return e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Fe:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,Oe(t))},ze=(t,e)=>{if(!t)return Fe;const i=new Ce;t.state=i,i.window=null;const n=Me(t,e);return n!==ye&&(t.state=null),n};let Ne,Ue,Le=!0;const De=t=>{if(Le){Ne=new Int32Array(512),Ue=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_e(1,t.lens,0,288,Ne,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_e(2,t.lens,0,32,Ue,0,t.work,{bits:5}),Le=!1}t.lencode=Ne,t.lenbits=9,t.distcode=Ue,t.distbits=5},Ze=(t,e,i,n)=>{let s;const r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>n&&(s=n),r.window.set(e.subarray(i-n,i-n+s),r.wnext),(n-=s)?(r.window.set(e.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0};var je=(t,e)=>{let i,n,s,r,o,a,l,h,u,c,d,f,g,p,m,_,v,w,b,y,k,x,F=0;const A=new Uint8Array(4);let B,E;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Fe;i=t.state,i.mode===Se&&(i.mode=13),o=t.next_out,s=t.output,l=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,h=i.hold,u=i.bits,c=a,d=l,x=ye;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;u<16;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(2&i.wrap&&35615===h){i.check=0,A[0]=255&h,A[1]=h>>>8&255,i.check=X(i.check,A,2,0),h=0,u=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",i.mode=Pe;break}if((15&h)!==Ie){t.msg="unknown compression method",i.mode=Pe;break}if(h>>>=4,u-=4,k=8+(15&h),0===i.wbits)i.wbits=k;else if(k>i.wbits){t.msg="invalid window size",i.mode=Pe;break}i.dmax=1<<i.wbits,t.adler=i.check=1,i.mode=512&h?10:Se,h=0,u=0;break;case 2:for(;u<16;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(i.flags=h,(255&i.flags)!==Ie){t.msg="unknown compression method",i.mode=Pe;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Pe;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&(A[0]=255&h,A[1]=h>>>8&255,i.check=X(i.check,A,2,0)),h=0,u=0,i.mode=3;case 3:for(;u<32;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}i.head&&(i.head.time=h),512&i.flags&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,i.check=X(i.check,A,4,0)),h=0,u=0,i.mode=4;case 4:for(;u<16;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&(A[0]=255&h,A[1]=h>>>8&255,i.check=X(i.check,A,2,0)),h=0,u=0,i.mode=5;case 5:if(1024&i.flags){for(;u<16;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&(A[0]=255&h,A[1]=h>>>8&255,i.check=X(i.check,A,2,0)),h=0,u=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(f=i.length,f>a&&(f=a),f&&(i.head&&(k=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+f),k)),512&i.flags&&(i.check=X(i.check,n,f,r)),a-=f,r+=f,i.length-=f),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===a)break t;f=0;do{k=n[r+f++],i.head&&k&&i.length<65536&&(i.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&i.flags&&(i.check=X(i.check,n,f,r)),a-=f,r+=f,k)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===a)break t;f=0;do{k=n[r+f++],i.head&&k&&i.length<65536&&(i.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&i.flags&&(i.check=X(i.check,n,f,r)),a-=f,r+=f,k)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;u<16;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(h!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Pe;break}h=0,u=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Se;break;case 10:for(;u<32;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}t.adler=i.check=Re(h),h=0,u=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,i.hold=h,i.bits=u,xe;t.adler=i.check=1,i.mode=Se;case Se:if(e===we||e===be)break t;case 13:if(i.last){h>>>=7&u,u-=7&u,i.mode=27;break}for(;u<3;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}switch(i.last=1&h,h>>>=1,u-=1,3&h){case 0:i.mode=14;break;case 1:if(De(i),i.mode=20,e===be){h>>>=2,u-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=Pe}h>>>=2,u-=2;break;case 14:for(h>>>=7&u,u-=7&u;u<32;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Pe;break}if(i.length=65535&h,h=0,u=0,i.mode=15,e===be)break t;case 15:i.mode=16;case 16:if(f=i.length,f){if(f>a&&(f=a),f>l&&(f=l),0===f)break t;s.set(n.subarray(r,r+f),o),a-=f,r+=f,l-=f,o+=f,i.length-=f;break}i.mode=Se;break;case 17:for(;u<14;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(i.nlen=257+(31&h),h>>>=5,u-=5,i.ndist=1+(31&h),h>>>=5,u-=5,i.ncode=4+(15&h),h>>>=4,u-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Pe;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;u<3;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}i.lens[I[i.have++]]=7&h,h>>>=3,u-=3}for(;i.have<19;)i.lens[I[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,B={bits:i.lenbits},x=_e(0,i.lens,0,19,i.lencode,0,i.work,B),i.lenbits=B.bits,x){t.msg="invalid code lengths set",i.mode=Pe;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;F=i.lencode[h&(1<<i.lenbits)-1],m=F>>>24,_=F>>>16&255,v=65535&F,!(m<=u);){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(v<16)h>>>=m,u-=m,i.lens[i.have++]=v;else{if(16===v){for(E=m+2;u<E;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(h>>>=m,u-=m,0===i.have){t.msg="invalid bit length repeat",i.mode=Pe;break}k=i.lens[i.have-1],f=3+(3&h),h>>>=2,u-=2}else if(17===v){for(E=m+3;u<E;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}h>>>=m,u-=m,k=0,f=3+(7&h),h>>>=3,u-=3}else{for(E=m+7;u<E;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}h>>>=m,u-=m,k=0,f=11+(127&h),h>>>=7,u-=7}if(i.have+f>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Pe;break}for(;f--;)i.lens[i.have++]=k}}if(i.mode===Pe)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Pe;break}if(i.lenbits=9,B={bits:i.lenbits},x=_e(1,i.lens,0,i.nlen,i.lencode,0,i.work,B),i.lenbits=B.bits,x){t.msg="invalid literal/lengths set",i.mode=Pe;break}if(i.distbits=6,i.distcode=i.distdyn,B={bits:i.distbits},x=_e(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,B),i.distbits=B.bits,x){t.msg="invalid distances set",i.mode=Pe;break}if(i.mode=20,e===be)break t;case 20:i.mode=21;case 21:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,i.hold=h,i.bits=u,ce(t,d),o=t.next_out,s=t.output,l=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,h=i.hold,u=i.bits,i.mode===Se&&(i.back=-1);break}for(i.back=0;F=i.lencode[h&(1<<i.lenbits)-1],m=F>>>24,_=F>>>16&255,v=65535&F,!(m<=u);){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(_&&0==(240&_)){for(w=m,b=_,y=v;F=i.lencode[y+((h&(1<<w+b)-1)>>w)],m=F>>>24,_=F>>>16&255,v=65535&F,!(w+m<=u);){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}h>>>=w,u-=w,i.back+=w}if(h>>>=m,u-=m,i.back+=m,i.length=v,0===_){i.mode=26;break}if(32&_){i.back=-1,i.mode=Se;break}if(64&_){t.msg="invalid literal/length code",i.mode=Pe;break}i.extra=15&_,i.mode=22;case 22:if(i.extra){for(E=i.extra;u<E;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,u-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;F=i.distcode[h&(1<<i.distbits)-1],m=F>>>24,_=F>>>16&255,v=65535&F,!(m<=u);){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(0==(240&_)){for(w=m,b=_,y=v;F=i.distcode[y+((h&(1<<w+b)-1)>>w)],m=F>>>24,_=F>>>16&255,v=65535&F,!(w+m<=u);){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}h>>>=w,u-=w,i.back+=w}if(h>>>=m,u-=m,i.back+=m,64&_){t.msg="invalid distance code",i.mode=Pe;break}i.offset=v,i.extra=15&_,i.mode=24;case 24:if(i.extra){for(E=i.extra;u<E;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,u-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Pe;break}i.mode=25;case 25:if(0===l)break t;if(f=d-l,i.offset>f){if(f=i.offset-f,f>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Pe;break}f>i.wnext?(f-=i.wnext,g=i.wsize-f):g=i.wnext-f,f>i.length&&(f=i.length),p=i.window}else p=s,g=o-i.offset,f=i.length;f>l&&(f=l),l-=f,i.length-=f;do{s[o++]=p[g++]}while(--f);0===i.length&&(i.mode=21);break;case 26:if(0===l)break t;s[o++]=i.length,l--,i.mode=21;break;case 27:if(i.wrap){for(;u<32;){if(0===a)break t;a--,h|=n[r++]<<u,u+=8}if(d-=l,t.total_out+=d,i.total+=d,d&&(t.adler=i.check=i.flags?X(i.check,s,d,o-d):H(i.check,s,d,o-d)),d=l,(i.flags?h:Re(h))!==i.check){t.msg="incorrect data check",i.mode=Pe;break}h=0,u=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;u<32;){if(0===a)break t;a--,h+=n[r++]<<u,u+=8}if(h!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Pe;break}h=0,u=0}i.mode=29;case 29:x=ke;break t;case Pe:x=Ae;break t;case 31:return Be;default:return Fe}return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,i.hold=h,i.bits=u,(i.wsize||d!==t.avail_out&&i.mode<Pe&&(i.mode<27||e!==ve))&&Ze(t,t.output,t.next_out,d-t.avail_out),c-=t.avail_in,d-=t.avail_out,t.total_in+=c,t.total_out+=d,i.total+=d,i.wrap&&d&&(t.adler=i.check=i.flags?X(i.check,s,d,t.next_out-d):H(i.check,s,d,t.next_out-d)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Se?128:0)+(20===i.mode||15===i.mode?256:0),(0===c&&0===d||e===ve)&&x===ye&&(x=Ee),x},He={inflateReset:Oe,inflateReset2:Me,inflateResetKeep:Te,inflateInit:t=>ze(t,15),inflateInit2:ze,inflate:je,inflateEnd:t=>{if(!t||!t.state)return Fe;let e=t.state;return e.window&&(e.window=null),t.state=null,ye},inflateGetHeader:(t,e)=>{if(!t||!t.state)return Fe;const i=t.state;return 0==(2&i.wrap)?Fe:(i.head=e,e.done=!1,ye)},inflateSetDictionary:(t,e)=>{const i=e.length;let n,s,r;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?Fe:11===n.mode&&(s=1,s=H(s,e,i,0),s!==n.check)?Ae:(r=Ze(t,e,i,i),r?(n.mode=31,Be):(n.havedict=1,ye))):Fe},inflateInfo:"pako inflate (from Nodeca project)"};var Ye=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Xe=Object.prototype.toString,{Z_NO_FLUSH:We,Z_FINISH:Ve,Z_OK:Je,Z_STREAM_END:Ge,Z_NEED_DICT:$e,Z_STREAM_ERROR:qe,Z_DATA_ERROR:Ke,Z_MEM_ERROR:Qe}=V;function ti(t){this.options=Yt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qt,this.strm.avail_out=0;let i=He.inflateInit2(this.strm,e.windowBits);if(i!==Je)throw new Error(W[i]);if(this.header=new Ye,He.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Jt(e.dictionary):"[object ArrayBuffer]"===Xe.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=He.inflateSetDictionary(this.strm,e.dictionary),i!==Je)))throw new Error(W[i])}function ei(t,e){const i=new ti(e);if(i.push(t),i.err)throw i.msg||W[i.err];return i.result}ti.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let r,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Ve:We,"[object ArrayBuffer]"===Xe.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=He.inflate(i,o),r===$e&&s&&(r=He.inflateSetDictionary(i,s),r===Je?r=He.inflate(i,o):r===Ke&&(r=$e));i.avail_in>0&&r===Ge&&i.state.wrap>0&&0!==t[i.next_in];)He.inflateReset(i),r=He.inflate(i,o);switch(r){case qe:case Ke:case $e:case Qe:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===Ge))if("string"===this.options.to){let t=$t(i.output,i.next_out),e=i.next_out-t,s=Gt(i.output,t);i.next_out=e,i.avail_out=n-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(s)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==Je||0!==a){if(r===Ge)return r=He.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},ti.prototype.onData=function(t){this.chunks.push(t)},ti.prototype.onEnd=function(t){t===Je&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Xt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ii={Inflate:ti,inflate:ei,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ei(t,e)},ungzip:ei,constants:V};const{Deflate:ni,deflate:si,deflateRaw:ri,gzip:oi}=ue,{Inflate:ai,inflate:li,inflateRaw:hi,ungzip:ui}=ii;var ci={Deflate:ni,deflate:si,deflateRaw:ri,gzip:oi,Inflate:ai,inflate:li,inflateRaw:hi,ungzip:ui,constants:V},di=i(2568),fi=i.n(di),gi=i(9685);function pi(){var t=new gi.WT(3);return gi.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function mi(t,e,i){var n=new gi.WT(3);return n[0]=t,n[1]=e,n[2]=i,n}function _i(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function vi(t,e){var i=e[0],n=e[1],s=e[2],r=i*i+n*n+s*s;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function wi(t,e,i){var n=e[0],s=e[1],r=e[2],o=i[0],a=i[1],l=i[2];return t[0]=s*l-r*a,t[1]=r*o-n*l,t[2]=n*a-s*o,t}function bi(t,e,i){var n=e[0],s=e[1],r=e[2],o=i[3]*n+i[7]*s+i[11]*r+i[15];return o=o||1,t[0]=(i[0]*n+i[4]*s+i[8]*r+i[12])/o,t[1]=(i[1]*n+i[5]*s+i[9]*r+i[13])/o,t[2]=(i[2]*n+i[6]*s+i[10]*r+i[14])/o,t}function yi(t,e){var i=t[0],n=t[1],s=t[2],r=e[0],o=e[1],a=e[2];return Math.abs(i-r)<=gi.Ib*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-o)<=gi.Ib*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(s-a)<=gi.Ib*Math.max(1,Math.abs(s),Math.abs(a))}ki=pi();var ki,xi,Fi=i(5975);!function(t){t.UP="up",t.DOWN="down",t.NORTH="north",t.EAST="east",t.SOUTH="south",t.WEST="west"}(xi||(xi={}));const Ai={[xi.UP]:[0,1,0],[xi.DOWN]:[0,-1,0],[xi.NORTH]:[0,0,-1],[xi.EAST]:[1,0,0],[xi.SOUTH]:[0,0,1],[xi.WEST]:[-1,0,0]};var Bi;!function(t){t.ALL=[t.UP,t.DOWN,t.NORTH,t.EAST,t.SOUTH,t.WEST],t.normal=function(t){return Ai[t]}}(xi||(xi={})),function(t){t.create=function(t,e,i){return[t,e,i]},t.offset=function(t,e,i,n){return[t[0]+e,t[1]+i,t[2]+n]},t.towards=function(e,i){return t.offset(e,...xi.normal(i))}}(Bi||(Bi={}));const Ei={end:0,byte:1,short:2,int:3,long:4,float:5,double:6,byteArray:7,string:8,list:9,compound:10,intArray:11,longArray:12},Ii=["end","byte","short","int","long","float","double","byteArray","string","list","compound","intArray","longArray"];class Si{constructor(t,e=!1){this.byte=this.readNum.bind(this,"getInt8",1),this.short=this.readNum.bind(this,"getInt16",2),this.int=this.readNum.bind(this,"getInt32",4),this.float=this.readNum.bind(this,"getFloat32",4),this.double=this.readNum.bind(this,"getFloat64",8),this.offset=0,this.littleEndian=e,this.arrayView=t,this.dataView=new DataView(t.buffer,t.byteOffset)}end(){return null}readNum(t,e){const i=this.dataView[t](this.offset,this.littleEndian);return this.offset+=e,i}long(){return[this.int(),this.int()]}byteArray(){const t=this.int(),e=[];for(let i=0;i<t;i++)e.push(this.byte());return e}intArray(){const t=this.int(),e=[];for(let i=0;i<t;i++)e.push(this.int());return e}longArray(){const t=this.int(),e=[];for(let i=0;i<t;i++)e.push(this.long());return e}string(){const t=this.short(),e=this.arrayView.slice(this.offset,this.offset+t);return this.offset+=t,function(t){var e,i=[];for(e=0;e<t.length;e++)0==(128&t[e])?i.push(127&t[e]):e+1<t.length&&192==(224&t[e])&&128==(192&t[e+1])?i.push((31&t[e])<<6|63&t[e+1]):e+2<t.length&&224==(240&t[e])&&128==(192&t[e+1])&&128==(192&t[e+2])?i.push((15&t[e])<<12|(63&t[e+1])<<6|63&t[e+2]):e+3<t.length&&240==(248&t[e])&&128==(192&t[e+1])&&128==(192&t[e+2])&&128==(192&t[e+3])&&i.push((7&t[e])<<18|(63&t[e+1])<<12|(63&t[e+2])<<6|63&t[e+3]);return String.fromCharCode.apply(null,i)}(e)}list(){const t=Ii[this.byte()],e=this.int(),i=[];for(let n=0;n<e;n++)i.push(this[t]());return{type:t,value:i}}compound(){const t={};for(;;){const e=Ii[this.byte()];if("end"===e)break;const i=this.string(),n=this[e]();t[i]={type:e,value:n}}return t}}function Pi(t,e){const i=new Si(t,e);if(i.byte()!==Ei.compound)throw new Error("Top tag should be a compound");return{name:i.string(),value:i.compound()}}function Ri(t,e){return Pi(ci.inflate(t),e)}function Ci(t,e){return 2===(i=new Uint8Array(t.slice(0,2))).length&&31===i[0]&&139===i[1]?{compressed:!0,result:Ri(t,e)}:{compressed:!1,result:Pi(t,e)};var i}function Ti(t,e,i){if(!t[e])throw new Error(`Missing ${e} tag`);if(t[e].type!==i)throw new Error(`Expected ${e} to be of type ${i}, but found ${t[e].type}`);return t[e].value}function Oi(t,e,i,n){const s=Ti(t,e,"list");if(s.type!==i)throw new Error(`Expected ${e} to be a list of ${i}s, but found ${s.type}s`);if(n&&s.value.length!==n)throw new Error(`Expected ${e} to be a list of length ${n}, but found length ${s.value.length}`);return s.value}function Mi(t,e){try{return t()}catch(t){return e}}var zi,Ni,Ui,Li;!function(t){function e(t){return"object"==typeof t&&null!==t?t:void 0}t.readNumber=function(t){return"number"==typeof t?t:void 0},t.readInt=function(t){return"number"==typeof t?Math.floor(t):void 0},t.readString=function(t){return"string"==typeof t?t:void 0},t.readBoolean=function(t){return"boolean"==typeof t?t:void 0},t.readObject=e,t.readArray=function(t,e){if(Array.isArray(t))return t.map((t=>e(t)))},t.readMap=function(t,i){var n;const s=null!==(n=e(t))&&void 0!==n?n:{};return Object.fromEntries(Object.entries(s).map((([t,e])=>[t,i(e)])))},t.compose=function(t,e,i){const n=e(t);return n?i(n):void 0}}(zi||(zi={}));class Di{constructor(t,e={}){this.name=t,this.properties=e}getName(){return this.name}getProperties(){return this.properties}getProperty(t){return this.properties[t]}isFluid(){return"minecraft:water"===this.name||"minecraft:lava"===this.name}equals(t){return this.name===t.name&&Object.keys(this.properties).every((e=>t.properties[e]===this.properties[e]))}toString(){return 0===Object.keys(this.properties).length?this.name:`${this.name}[${Object.entries(this.properties).map((([t,e])=>t+"="+e)).join(",")}]`}static fromNbt(t){const e=Ti(t.value,"Name","string"),i=Mi((()=>Ti(t.value,"Properties","compound")),{}),n=Object.keys(i).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e]:Ti(i,e,"string")})),{});return new Di(e,n)}static fromJson(t){var e,i;const n=null!==(e=zi.readObject(t))&&void 0!==e?e:{},s=null!==(i=zi.readString(n.Name))&&void 0!==i?i:"minecraft:stone",r=zi.readMap(n.Properties,(t=>{var e;return null!==(e=zi.readString(t))&&void 0!==e?e:""}));return new Di(s,r)}}Di.AIR=new Di("minecraft:air");class Zi{constructor(t){this.minY=t,this.storage=Array(Zi.SIZE),this.palette=[Di.AIR]}get minBlockY(){return this.minY<<4}index(t,e,i){return(t<<8)+(e<<4)+i}getBlockState(t,e,i){var n;const s=this.storage[this.index(t,e,i)];return null!==(n=this.palette[s])&&void 0!==n?n:Di.AIR}setBlockState(t,e,i,n){let s=this.palette.findIndex((t=>t.equals(n)));-1===s&&(s=this.palette.length,this.palette.push(n)),this.storage[this.index(t,e,i)]=s}}Zi.WIDTH=16,Zi.SIZE=Zi.WIDTH*Zi.WIDTH*Zi.WIDTH;class ji{constructor(t,e,i){this.minY=t,this.height=e,this.pos=i,this.sections=Array(this.sectionsCount).fill(null)}get maxY(){return this.minY+this.height}get minSection(){return this.minY>>4}get maxSection(){return 1+(this.maxY-1>>4)}get sectionsCount(){return this.maxSection-this.minSection}getSectionIndex(t){return(t>>4)-this.minSection}getBlockState(t){var e;const[i,n,s]=t,r=this.sections[this.getSectionIndex(n)];return null!==(e=null==r?void 0:r.getBlockState(15&i,15&n,15&s))&&void 0!==e?e:Di.AIR}setBlockState(t,e){const[i,n,s]=t,r=this.getSectionIndex(n);let o=this.sections[r];if(null===o){if(e.equals(Di.AIR))return;o=this.getOrCreateSection(r)}o.setBlockState(15&i,15&n,15&s,e)}getOrCreateSection(t){return null==this.sections[t]&&(this.sections[t]=new Zi(this.minSection+t)),this.sections[t]}}!function(t){t.create=function(t,e){return[t,e]},t.fromBlockPos=function(t){return[t[0]>>4,t[2]>>4]},t.fromLong=function(t){return[4294967295&Number(t),Number(t>>BigInt(32))]},t.minBlockX=function(t){return t[0]<<4},t.minBlockZ=function(t){return t[1]<<4},t.maxBlockX=function(t){return t[0]<<19},t.maxBlockZ=function(t){return t[1]<<19}}(Ni||(Ni={}));class Hi{constructor(t,e=[],i=[]){this.size=t,this.palette=e,this.blocks=i,this.blocksMap=[],i.forEach((e=>{if(!this.isInside(e.pos))throw new Error(`Found block at ${e.pos} which is outside the structure bounds ${this.size}`);this.blocksMap[e.pos[0]*t[1]*t[2]+e.pos[1]*t[2]+e.pos[2]]=e}))}getSize(){return this.size}addBlock(t,e,i,n){if(!this.isInside(t))throw new Error(`Cannot add block at ${t} outside the structure bounds ${this.size}`);const s=new Di(e,i);let r=this.palette.findIndex((t=>t.equals(s)));return-1===r&&(r=this.palette.length,this.palette.push(s)),this.blocks.push({pos:t,state:r,nbt:n}),this.blocksMap[t[0]*this.size[1]*this.size[2]+t[1]*this.size[2]+t[2]]={pos:t,state:r,nbt:n},this}getBlocks(){return this.blocks.map((t=>({pos:t.pos,state:this.palette[t.state],nbt:t.nbt})))}getBlock(t){if(!this.isInside(t))return null;const e=this.blocksMap[t[0]*this.size[1]*this.size[2]+t[1]*this.size[2]+t[2]];return e?{pos:e.pos,state:this.palette[e.state],nbt:e.nbt}:null}isInside(t){return t[0]>=0&&t[0]<this.size[0]&&t[1]>=0&&t[1]<this.size[1]&&t[2]>=0&&t[2]<this.size[2]}static fromNbt(t){const e=Oi(t.value,"size","int",3),i=Oi(t.value,"palette","compound").map((t=>Di.fromNbt({name:"",value:t}))),n=Oi(t.value,"blocks","compound").map((t=>({pos:Oi(t,"pos","int",3),state:Ti(t,"state","int"),nbt:Mi((()=>Ti(t,"nbt","compound")),void 0)})));return new Hi(e,i,n)}}function Yi(t){return t*t}function Xi(t,e,i){return Math.max(e,Math.min(i,t))}function Wi(t,e,i){return e+t*(i-e)}function Vi(t,e,i,n,s,r){return Wi(e,Wi(t,i,n),Wi(t,s,r))}function Ji(t,e,i){return i<0?t:i>1?e:Wi(i,t,e)}function Gi(t){return t*t*t*(t*(6*t-15)+10)}class $i{constructor(t){this.seed=BigInt(0),this.setSeed(t)}fork(){return new $i(this.nextLong())}setSeed(t){this.seed=t^$i.MULTIPLIER&$i.MODULUS_MASK}advance(){this.seed=this.seed*$i.MULTIPLIER+$i.INCREMENT&$i.MODULUS_MASK}consume(t){for(let e=0;e<t;e+=1)this.advance()}next(t){this.advance();const e=Number(this.seed>>BigInt($i.MODULUS_BITS-t));return e>2147483647?e-4294967296:e}nextInt(t){if(void 0===t)return this.next(32);if(0==(t&t-1))return Number(BigInt(t)*BigInt(this.next(31))>>BigInt(31));let e,i;for(;(e=this.next(31))-(i=e%t)+(t-1)<0;);return i}nextLong(){return(BigInt(this.next(32))<<BigInt(32))+BigInt(this.next(32))}nextFloat(){return this.next(24)*$i.FLOAT_MULTIPLIER}nextDouble(){const t=this.next(30);return this.advance(),t*$i.DOUBLE_MULTIPLIER}}$i.MODULUS_BITS=48,$i.MODULUS_MASK=BigInt("281474976710655"),$i.MULTIPLIER=BigInt("25214903917"),$i.INCREMENT=BigInt("11"),$i.FLOAT_MULTIPLIER=1/Math.pow(2,24),$i.DOUBLE_MULTIPLIER=1/Math.pow(2,30);class qi{constructor(t){this.seed=[BigInt(0),BigInt(0)],this.seed=t}static create(t){return new qi(qi.upgradeSeedTo128bit(t))}static mixStafford13(t){return((t=((t=(t^t>>BigInt(30))*BigInt("-4658895280553007687")&BigInt("0xFFFFFFFFFFFFFFFF"))^t>>BigInt(27))*BigInt("-7723592293110705685")&BigInt("0xFFFFFFFFFFFFFFFF"))^t>>BigInt(31))&BigInt("0xFFFFFFFFFFFFFFFF")}static upgradeSeedTo128bit(t){t<0&&(t+=BigInt("0x10000000000000000"));const e=t^qi.SILVER_RATIO_64,i=e+qi.GOLDEN_RATIO_64&BigInt("0xFFFFFFFFFFFFFFFF");return[qi.mixStafford13(e),qi.mixStafford13(i)]}static rotateLeft(t,e){return t<<e&BigInt("0xFFFFFFFFFFFFFFFF")|t>>BigInt(64)-e}setSeed(t){this.seed=qi.upgradeSeedTo128bit(t)}fork(){return new qi([this.next(),this.next()])}static getSeed(t,e,i){let n=t*BigInt(3129871)^i*BigInt(116129781)^e;return n=n*n*BigInt(42317861)+n*BigInt(11),n>>BigInt(16)}forkAt(t,e,i){const n=qi.getSeed(t,e,i)^this.seed[0];return new qi([n,this.seed[1]])}static LongfromBytes(t,e,i,n,s,r,o,a){return BigInt(t)<<BigInt(56)|BigInt(e)<<BigInt(48)|BigInt(i)<<BigInt(40)|BigInt(n)<<BigInt(32)|BigInt(s)<<BigInt(24)|BigInt(r)<<BigInt(16)|BigInt(o)<<BigInt(8)|BigInt(a)}forkWithHashOf(t){const e=fi()(t,{asBytes:!0}),i=qi.LongfromBytes(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]),n=qi.LongfromBytes(e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]);return new qi([i^this.seed[0],n^this.seed[1]])}next(){const t=this.seed[0];let e=this.seed[1];const i=qi.rotateLeft(t+e&BigInt("0xFFFFFFFFFFFFFFFF"),BigInt(17))+t&BigInt("0xFFFFFFFFFFFFFFFF");return e^=t,this.seed=[qi.rotateLeft(t,BigInt(49))^e^e<<BigInt(21)&BigInt("0xFFFFFFFFFFFFFFFF"),qi.rotateLeft(e,BigInt(28))],i}nextLong(){let t=this.next();return t>BigInt("0x8000000000000000")&&(t-=BigInt("0x10000000000000000")),t}consume(t){let e=this.seed[0],i=this.seed[1];for(let n=0;n<t;n+=1)i^=e,e=qi.rotateLeft(e,BigInt(49))^i^i<<BigInt(21),i=qi.rotateLeft(i,BigInt(28));this.seed=[e,i]}nextBits(t){return this.next()>>BigInt(64-t)}nextInt(t){if(t)return Math.abs(Number(this.nextLong()%BigInt(t)));var e=Number(this.next()&BigInt(4294967295));return e>=2147483648&&(e-=4294967296),e}nextFloat(){return Number(this.nextBits(24))*qi.FLOAT_MULTIPLIER}nextDouble(){return Number(this.nextBits(53))*qi.DOUBLE_MULTIPLIER}parityConfigString(){return"seedLo: "+this.seed[0]+", seedHi: "+this.seed[1]}}qi.SILVER_RATIO_64=BigInt("7640891576956012809"),qi.GOLDEN_RATIO_64=BigInt("-7046029254386353131"),qi.FLOAT_MULTIPLIER=1/Math.pow(2,24),qi.DOUBLE_MULTIPLIER=11102230246251565e-32;class Ki{constructor(t){this.xo=256*t.nextDouble(),this.yo=256*t.nextDouble(),this.zo=256*t.nextDouble(),this.p=Array(256);for(let e=0;e<256;e+=1)this.p[e]=e;for(let e=0;e<256;e+=1){const i=t.nextInt(256-e),n=this.p[e];this.p[e]=this.p[e+i],this.p[e+i]=n}}sample2D(t,e){let i,n,s;const r=(t+e)*Ki.F2,o=Math.floor(t+r),a=t-(o-(i=(o+(n=Math.floor(e+r)))*Ki.G2));let l,h;a>(s=e-(n-i))?(l=1,h=0):(l=0,h=1);const u=a-l+Ki.G2,c=s-h+Ki.G2,d=a-1+2*Ki.G2,f=s-1+2*Ki.G2,g=255&o,p=255&n,m=this.P(g+this.P(p))%12,_=this.P(g+l+this.P(p+h))%12,v=this.P(g+1+this.P(p+1))%12;return 70*(this.getCornerNoise3D(m,a,s,0,.5)+this.getCornerNoise3D(_,u,c,0,.5)+this.getCornerNoise3D(v,d,f,0,.5))}sample(t,e,i){const n=.3333333333333333*(t+e+i),s=Math.floor(t+n),r=Math.floor(e+n),o=Math.floor(i+n),a=.16666666666666666*(s+r+o),l=t-(s-a),h=e-(r-a),u=i-(o-a);let c,d,f,g,p,m;l>=h?h>=u?(c=1,d=0,f=0,g=1,p=1,m=0):l>=u?(c=1,d=0,f=0,g=1,p=0,m=1):(c=0,d=0,f=1,g=1,p=0,m=1):h<u?(c=0,d=0,f=1,g=0,p=1,m=1):l<u?(c=0,d=1,f=0,g=0,p=1,m=1):(c=0,d=1,f=0,g=1,p=1,m=0);const _=l-c+.16666666666666666,v=h-d+.16666666666666666,w=u-f+.16666666666666666,b=l-g+.3333333333333333,y=h-p+.3333333333333333,k=u-m+.3333333333333333,x=l-.5,F=h-.5,A=u-.5,B=255&s,E=255&r,I=255&o,S=this.P(B+this.P(E+this.P(I)))%12,P=this.P(B+c+this.P(E+d+this.P(I+f)))%12,R=this.P(B+g+this.P(E+p+this.P(I+m)))%12,C=this.P(B+1+this.P(E+1+this.P(I+1)))%12;return 32*(this.getCornerNoise3D(S,l,h,u,.6)+this.getCornerNoise3D(P,_,v,w,.6)+this.getCornerNoise3D(R,b,y,k,.6)+this.getCornerNoise3D(C,x,F,A,.6))}P(t){return this.p[255&t]}getCornerNoise3D(t,e,i,n,s){let r,o=s-e*e-i*i-n*n;return o<0?r=0:(o*=o,r=o*o*Ki.gradDot(t,e,i,n)),r}static gradDot(t,e,i,n){const s=Ki.GRADIENT[15&t];return s[0]*e+s[1]*i+s[2]*n}}Ki.GRADIENT=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1],[1,1,0],[0,-1,1],[-1,1,0],[0,-1,-1]],Ki.F2=.5*(Math.sqrt(3)-1),Ki.G2=(3-Math.sqrt(3))/6;class Qi{constructor(t){this.xo=256*t.nextDouble(),this.yo=256*t.nextDouble(),this.zo=256*t.nextDouble(),this.p=Array(256);for(let e=0;e<256;e+=1)this.p[e]=e>127?e-256:e;for(let e=0;e<256;e+=1){const i=t.nextInt(256-e),n=this.p[e];this.p[e]=this.p[e+i],this.p[e+i]=n}}sample(t,e,i,n=0,s=0){const r=t+this.xo,o=e+this.yo,a=i+this.zo,l=Math.floor(r),h=Math.floor(o),u=Math.floor(a),c=r-l,d=o-h,f=a-u;let g=0;if(0!==n){const t=s>=0&&s<d?s:d;g=Math.floor(t/n+1e-7)*n}return this.sampleAndLerp(l,h,u,c,d-g,f,d)}sampleAndLerp(t,e,i,n,s,r,o){const a=this.P(t),l=this.P(t+1),h=this.P(a+e),u=this.P(a+e+1),c=this.P(l+e),d=this.P(l+e+1),f=Ki.gradDot(this.P(h+i),n,s,r),g=Ki.gradDot(this.P(c+i),n-1,s,r),p=Ki.gradDot(this.P(u+i),n,s-1,r),m=Ki.gradDot(this.P(d+i),n-1,s-1,r),_=Ki.gradDot(this.P(h+i+1),n,s,r-1),v=Ki.gradDot(this.P(c+i+1),n-1,s,r-1),w=Ki.gradDot(this.P(u+i+1),n,s-1,r-1),b=Ki.gradDot(this.P(d+i+1),n-1,s-1,r-1);return function(t,e,i,n,s,r,o,a,l,h,u){return Wi(i,Vi(t,e,n,s,r,o),Vi(t,e,a,l,h,u))}(Gi(n),Gi(o),Gi(r),f,g,p,m,_,v,w,b)}P(t){return 255&this.p[255&t]}}class tn{constructor(t,e,i){if(t instanceof qi){const n=t.fork();this.noiseLevels=Array(i.length);for(let t=0;t<i.length;t++)if(0!==i[t]){const i=e+t;this.noiseLevels[t]=new Qi(n.forkWithHashOf("octave_"+i))}}else{if(1-e<i.length)throw new Error("Positive octaves are not allowed when using LegacyRandom");this.noiseLevels=Array(i.length);for(let n=-e;n>=0;n-=1)n<i.length&&0!==i[n]?this.noiseLevels[n]=new Qi(t):t.consume(262)}this.amplitudes=i,this.lowestFreqInputFactor=Math.pow(2,e),this.lowestFreqValueFactor=Math.pow(2,i.length-1)/(Math.pow(2,i.length)-1)}sample(t,e,i,n=0,s=0,r=!1){let o=0,a=this.lowestFreqInputFactor,l=this.lowestFreqValueFactor;for(let h=0;h<this.noiseLevels.length;h+=1){const u=this.noiseLevels[h];u&&(o+=this.amplitudes[h]*l*u.sample(tn.wrap(t*a),r?-u.yo:tn.wrap(e*a),tn.wrap(i*a),n*a,s*a)),a*=2,l/=2}return o}getOctaveNoise(t){return this.noiseLevels[this.noiseLevels.length-1-t]}static wrap(t){return t-33554432*Math.floor(t/33554432+.5)}}class en{constructor(t,e,i,n){this.cellWidth=i,this.cellHeight=n,this.minLimitNoise=new tn(t,-15,[1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0]),this.maxLimitNoise=new tn(t,-15,[1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0]),this.mainNoise=new tn(t,-7,[1,1,1,1,1,0,0,0]),this.xzScale=684.412*e.xzScale,this.yScale=684.412*e.yScale,this.xzMainScale=this.xzScale/e.xzFactor,this.yMainScale=this.yScale/e.yFactor}sample(t,e,i){let n;t=Math.floor(t/this.cellWidth),e=Math.floor(e/this.cellHeight),i=Math.floor(i/this.cellWidth);let s=0,r=1;for(let l=0;l<8;l+=1){if(n=this.mainNoise.getOctaveNoise(l),n){const o=this.xzMainScale*r,a=this.yMainScale*r,l=tn.wrap(t*o),h=tn.wrap(e*a),u=tn.wrap(i*o);s+=n.sample(l,h,u,a,e*a)/r}r/=2}s=(s/10+1)/2,r=1;let o=0,a=0;for(let l=0;l<16;l+=1){const h=this.xzScale*r,u=this.yScale*r,c=tn.wrap(t*h),d=tn.wrap(e*u),f=tn.wrap(i*h);s<1&&(n=this.minLimitNoise.getOctaveNoise(l))&&(o+=n.sample(c,d,f,u,e*u)/r),s>0&&(n=this.maxLimitNoise.getOctaveNoise(l))&&(a+=n.sample(c,d,f,u,e*u)/r),r/=2}return Ji(o/512,a/512,s)/128}}!function(t){t.fromJson=function(t){var e,i,n,s,r;const o=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{xzScale:null!==(i=zi.readNumber(o.xz_scale))&&void 0!==i?i:1,yScale:null!==(n=zi.readNumber(o.y_scale))&&void 0!==n?n:1,xzFactor:null!==(s=zi.readNumber(o.xz_factor))&&void 0!==s?s:80,yFactor:null!==(r=zi.readNumber(o.y_factor))&&void 0!==r?r:80}}}(Ui||(Ui={}));class nn{constructor(t,{firstOctave:e,amplitudes:i}){this.first=new tn(t,e,i),this.second=new tn(t,e,i);let n=1/0,s=-1/0;for(let o=0;o<i.length;o+=1)0!==i[o]&&(n=Math.min(n,o),s=Math.max(s,o));const r=.1*(1+1/(s-n+1));this.valueFactor=1/6/r}sample(t,e,i){const n=t*nn.INPUT_FACTOR,s=e*nn.INPUT_FACTOR,r=i*nn.INPUT_FACTOR;return(this.first.sample(t,e,i)+this.second.sample(n,s,r))*this.valueFactor}}nn.INPUT_FACTOR=1.0181268882175227,function(t){t.fromJson=function(t){var e,i,n;const s=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{firstOctave:null!==(i=zi.readInt(s.firstOctave))&&void 0!==i?i:0,amplitudes:null!==(n=zi.readArray(s.amplitudes,(t=>{var e;return null!==(e=zi.readNumber(t))&&void 0!==e?e:0})))&&void 0!==n?n:[]}}}(Li||(Li={}));class sn{constructor(t,e){const i=e[e.length-1],n=-e[0]+i+1,s=new Set(e),r=new Ki(t);this.noiseLevels=Array(n),i>=0&&i<n&&s.has(0)&&(this.noiseLevels[i]=r);for(let o=i+1;o<n;o+=1)o>=0&&s.has(i-o)?this.noiseLevels[o]=new Ki(t):t.consume(262);if(i>0)throw new Error("Positive octaves are not allowed");this.highestFreqInputFactor=Math.pow(2,i),this.highestFreqValueFactor=1/(Math.pow(2,n)-1)}sample(t,e,i){let n=0,s=this.highestFreqInputFactor,r=this.highestFreqValueFactor;for(let o=0;o<this.noiseLevels.length;o+=1){const a=this.noiseLevels[o];a&&(n+=r*a.sample2D(t*s+(i?a.xo:0),e*s+(i?a.yo:0))),s/=2,r*=2}return n}}class rn{constructor(t,e,i=[],n=[],s=[]){this.name=t,this.coordinate=e,this.locations=i,this.values=n,this.derivatives=s}apply(t){const e=this.coordinate(t),i=function(t,e,i){let n=e-t;for(;n>0;){const e=Math.floor(n/2),s=t+e;i(s)?n=e:(t=s+1,n-=e+1)}return t}(0,this.locations.length,(t=>e<this.locations[t]))-1,n=this.locations.length-1;if(i<0)return this.values[0](t)+this.derivatives[0]*(e-this.locations[0]);if(i===n)return this.values[n](t)+this.derivatives[n]*(e-this.locations[n]);const s=this.locations[i],r=this.locations[i+1],o=this.derivatives[i],a=this.derivatives[i+1],l=(e-s)/(r-s),h=this.values[i](t),u=this.values[i+1](t),c=o*(r-s)-(u-h),d=-a*(r-s)+(u-h);return Wi(l,h,u)+l*(1-l)*Wi(l,c,d)}addPoint(t,e,i=0){return this.locations.push(t),this.values.push("number"==typeof e?()=>e:e.apply.bind(e)),this.derivatives.push(i),this}}const on=t=>[(t>>16&255)/256,(t>>8&255)/256,(255&t)/256],an=[124/256,189/256,107/256],ln=on(6396257),hn=on(8431445),un=on(4764952),cn=on(4159204),dn=on(8431445),fn=on(2129968),gn=t=>[t/8,1-t/32,64*t],pn={large_fern:()=>an,tall_grass:()=>an,grass_block:()=>an,fern:()=>an,grass:()=>an,potted_fern:()=>an,spruce_leaves:()=>ln,birch_leaves:()=>hn,oak_leaves:()=>un,jungle_leaves:()=>un,acacia_leaves:()=>un,dark_oak_leaves:()=>un,vine:()=>un,water:()=>cn,bubble_column:()=>cn,cauldron:()=>cn,redstone_wire:t=>{var e;return(t=>{const e=t/15;return[.6*e+(e>0?.4:.3),Xi(e*e*.7-.5,0,1),Xi(e*e*.6-.7,0,1)]})(parseInt(null!==(e=t.power)&&void 0!==e?e:"0"))},sugar_cane:()=>an,attached_melon_stem:()=>dn,attached_pumpkin_stem:()=>dn,melon_stem:t=>{var e;return gn(parseInt(null!==(e=t.age)&&void 0!==e?e:"0"))},pumpkin_stem:t=>{var e;return gn(parseInt(null!==(e=t.age)&&void 0!==e?e:"0"))},lily_pad:()=>fn};var mn;function _n(...t){let e=0;for(const s of t)e+=s.length;const i=new Float32Array(e);let n=0;for(const s of t)i.set(s,n),n+=s.length;return i}function vn(t,e){const i=pi();for(let n=0;n<t.length;n+=3)i[0]=t[n],i[1]=t[n+1],i[2]=t[n+2],bi(i,i,e),t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2]}!function(t){t.rotate=function(t,e,i){let{up:n,down:s,north:r,east:o,south:a,west:l}=t;switch(i){case 90:[r,o,a,l]=[o,a,l,r];break;case 180:[r,o,a,l]=[a,l,r,o];break;case 270:[r,o,a,l]=[l,r,o,a]}switch(e){case 90:[n,r,s,a]=[r,s,a,n];break;case 180:[n,r,s,a]=[s,a,n,r];break;case 270:[n,r,s,a]=[a,n,r,s]}return{up:n,down:s,north:r,east:o,south:a,west:l}}}(mn||(mn={}));class wn{constructor(t,e,i){this.id=t,this.variants=e,this.multipart=i,this.variants=e}getModelVariants(t){if(this.variants){const e=Object.keys(this.variants).filter((e=>this.matchesVariant(e,t)));if(0===e.length)return[];const i=this.variants[e[0]];return[Array.isArray(i)?i[0]:i]}return this.multipart?this.multipart.filter((e=>!e.when||this.matchesCase(e.when,t))).map((t=>Array.isArray(t.apply)?t.apply[0]:t.apply)):[]}getBuffers(t,e,i,n,s,r){var o,a,l,h;const u=this.getModelVariants(e),c=[],d=[],f=[],g=[];for(const _ of u){const u=mn.rotate(r,null!==(o=_.x)&&void 0!==o?o:0,null!==(a=_.y)&&void 0!==a?a:0),p=n.getBlockModel(_.model).getBuffers(t,e,i,s,u);if(_.x||_.y){const t=Fi.Ue();Fi.yR(t),Fi.Iu(t,t,[8,8,8]),Fi.uD(t,t,-gi.c$(null!==(l=_.y)&&void 0!==l?l:0)),Fi.lM(t,t,-gi.c$(null!==(h=_.x)&&void 0!==h?h:0)),Fi.Iu(t,t,[-8,-8,-8]),vn(p.position,t)}c.push(p.position),d.push(...p.texCoord),f.push(...p.tintColor),g.push(...p.index),s+=p.texCoord.length/2}const p=Fi.Ue();Fi.yR(p),Fi.bA(p,p,[.0625,.0625,.0625]);const m=_n(...c);return vn(m,p),{position:m,texCoord:d,tintColor:f,index:g}}matchesVariant(t,e){return t.split(",").every((t=>{const[i,n]=t.split("=");return e[i]===n}))}matchesCase(t,e){if(Array.isArray(t.OR))return t.OR.some((t=>this.matchesCase(t,e)));const i=t;return Object.keys(i).every((t=>i[t].split("|").includes(e[t])))}static fromJson(t,e){return new wn(t,e.variants,e.multipart)}}const bn={0:[0,3,2,3,2,1,0,1],90:[2,3,2,1,0,1,0,3],180:[2,1,0,1,0,3,2,3],270:[0,1,0,3,2,3,2,1]},yn={x:[1,0,0],y:[0,1,0],z:[0,0,1]},kn=1.41421356237,xn={x:[1,kn,kn],y:[kn,1,kn],z:[kn,kn,1]};class Fn{constructor(t,e,i,n){this.id=t,this.parent=e,this.textures=i,this.elements=n,this.flattened=!1}getBuffers(t,e,i,n,s){var r;const o=[],a=[],l=[],h=[];for(const u of null!==(r=this.elements)&&void 0!==r?r:[]){const r=this.getElementBuffers(t,e,u,n,i,s);o.push(r.position),a.push(...r.texCoord),l.push(...r.tintColor),h.push(...r.index),n+=r.texCoord.length/2}return{position:_n(...o),texCoord:a,tintColor:l,index:h}}getElementBuffers(t,e,i,n,s,r){var o,a,l,h,u,c,d,f,g,p,m,_;const v=i.from[0],w=i.from[1],b=i.from[2],y=i.to[0],k=i.to[1],x=i.to[2],F=[],A=[],B=[],E=[],I=(i,r,o)=>{var a,l,h,u,c,d,f,g,p,m,_,v;const[w,b,y,k]=s.getTextureUV(this.getTexture(i.texture)),x=(y-w)/16,I=(k-b)/16,S=x/16,P=I/16;r[0]=(null!==(l=null===(a=i.uv)||void 0===a?void 0:a[0])&&void 0!==l?l:r[0])*x+S,r[1]=(null!==(u=null===(h=i.uv)||void 0===h?void 0:h[1])&&void 0!==u?u:r[1])*I+P,r[2]=(null!==(d=null===(c=i.uv)||void 0===c?void 0:c[2])&&void 0!==d?d:r[2])*x-S,r[3]=(null!==(g=null===(f=i.uv)||void 0===f?void 0:f[3])&&void 0!==g?g:r[3])*I-P;const R=bn[null!==(p=i.rotation)&&void 0!==p?p:0];A.push(w+r[R[0]],b+r[R[1]],w+r[R[2]],b+r[R[3]],w+r[R[4]],b+r[R[5]],w+r[R[6]],b+r[R[7]]);const C=(null!==(m=i.tintindex)&&void 0!==m?m:-1)>=0&&null!==(v=null===(_=pn[t.slice(10)])||void 0===_?void 0:_.call(pn,e))&&void 0!==v?v:[1,1,1];B.push(...C,...C,...C,...C),F.push(...o),E.push(n,n+1,n+2,n,n+2,n+3),n+=4};!(null===(a=null===(o=i.faces)||void 0===o?void 0:o.up)||void 0===a?void 0:a.texture)||i.faces.up.cullface&&r[i.faces.up.cullface]||I(i.faces.up,[v,16-x,y,16-b],[v,k,x,y,k,x,y,k,b,v,k,b]),!(null===(h=null===(l=i.faces)||void 0===l?void 0:l.down)||void 0===h?void 0:h.texture)||i.faces.down.cullface&&r[i.faces.down.cullface]||I(i.faces.down,[16-x,16-y,16-b,16-v],[v,w,b,y,w,b,y,w,x,v,w,x]),!(null===(c=null===(u=i.faces)||void 0===u?void 0:u.south)||void 0===c?void 0:c.texture)||i.faces.south.cullface&&r[i.faces.south.cullface]||I(i.faces.south,[v,16-k,y,16-w],[v,w,x,y,w,x,y,k,x,v,k,x]),!(null===(f=null===(d=i.faces)||void 0===d?void 0:d.north)||void 0===f?void 0:f.texture)||i.faces.north.cullface&&r[i.faces.north.cullface]||I(i.faces.north,[16-y,16-k,16-v,16-w],[y,w,b,v,w,b,v,k,b,y,k,b]),!(null===(p=null===(g=i.faces)||void 0===g?void 0:g.east)||void 0===p?void 0:p.texture)||i.faces.east.cullface&&r[i.faces.east.cullface]||I(i.faces.east,[16-x,16-k,16-b,16-w],[y,w,x,y,w,b,y,k,b,y,k,x]),!(null===(_=null===(m=i.faces)||void 0===m?void 0:m.west)||void 0===_?void 0:_.texture)||i.faces.west.cullface&&r[i.faces.west.cullface]||I(i.faces.west,[b,16-k,x,16-w],[v,w,b,v,w,x,v,k,x,v,k,b]);const S=Fi.Ue();if(Fi.yR(S),i.rotation){const t=mi(...i.rotation.origin);Fi.Iu(S,S,t),Fi.U1(S,S,gi.c$(i.rotation.angle),yn[i.rotation.axis]),i.rotation.rescale&&Fi.bA(S,S,xn[i.rotation.axis]),function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2]}(t,t),Fi.Iu(S,S,t)}const P=new Float32Array(F);return vn(P,S),{position:P,texCoord:A,tintColor:B,index:E}}getTexture(t){for(var e,i;t.startsWith("#");)t=null!==(i=null===(e=this.textures)||void 0===e?void 0:e[t.slice(1)])&&void 0!==i?i:"";return t.startsWith("minecraft:")||(t="minecraft:"+t),t}flatten(t){var e;if(!this.flattened&&this.parent){const i=t.getBlockModel(this.parent);if(!i)return console.warn(`parent ${this.parent} does not exist!`),void(this.flattened=!0);i.flatten(t),this.elements||(this.elements=i.elements),this.textures||(this.textures={}),Object.keys(null!==(e=i.textures)&&void 0!==e?e:{}).forEach((t=>{this.textures[t]||(this.textures[t]=i.textures[t])})),this.flattened=!0}}static fromJson(t,e){let i=e.parent;return i&&!i.startsWith("minecraft:")&&(i="minecraft:"+i),new Fn(t,i,e.textures,e.elements)}}class An{constructor(t,e,i){this.gl=t,this.program=this.initShaderProgram(e,i)}getProgram(){return this.program}initShaderProgram(t,e){const i=this.loadShader(this.gl.VERTEX_SHADER,t),n=this.loadShader(this.gl.FRAGMENT_SHADER,e),s=this.gl.createProgram();if(this.gl.attachShader(s,i),this.gl.attachShader(s,n),this.gl.linkProgram(s),!this.gl.getProgramParameter(s,this.gl.LINK_STATUS))throw new Error(`Unable to link shader program: ${this.gl.getProgramInfoLog(s)}`);return s}loadShader(t,e){const i=this.gl.createShader(t);if(this.gl.shaderSource(i,e),this.gl.compileShader(i),!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)){const e=new Error(`Compiling ${t===this.gl.VERTEX_SHADER?"vertex":"fragment"} shader: ${this.gl.getShaderInfoLog(i)}`);throw this.gl.deleteShader(i),e}return i}}function Bn(t,e,i,n,s){const r=new wn("",{"":{model:""}},void 0),o={getBlockModel:()=>s};return s.flatten(o),r.getBuffers(t,{},e,o,i,n)}function En(t,e,i,n,s,r){const o=s.up?16:[14.2,12.5,10.5,9,7,5.3,3.7,1.9,16,16,16,16,16,16,16,16][i];return Bn(`minecraft:${t}`,n,e,s,new Fn("","",{still:`minecraft:block/${t}_still`,flow:`minecraft:block/${t}_flow`},[{from:[0,0,0],to:[16,o,16],faces:{up:{texture:"#still",tintindex:r,cullface:xi.UP},down:{texture:"#still",tintindex:r,cullface:xi.DOWN},north:{texture:"#flow",tintindex:r,cullface:xi.NORTH},east:{texture:"#flow",tintindex:r,cullface:xi.EAST},south:{texture:"#flow",tintindex:r,cullface:xi.SOUTH},west:{texture:"#flow",tintindex:r,cullface:xi.WEST}}}]))}const In={"minecraft:water":(t,e,i,n)=>En("water",t,parseInt(e.level),i,n,0),"minecraft:lava":(t,e,i,n)=>En("lava",t,parseInt(e.level),i,n),"minecraft:chest":(t,e,i)=>function(t,e,i,n){return Bn("minecraft:chest",n,t,{},new Fn("","",{0:"minecraft:block/chest"},[{from:[1,0,1],to:[15,14,15],faces:{up:{texture:"#0"},down:{texture:"#0"},north:{texture:"#0"},east:{texture:"#0"},south:{texture:"#0"},west:{texture:"#0"}}}]))}(t,e.facing,e.type,i)},Sn=new Set(Object.keys(In));class Pn{constructor(t,e,i,n){var s,r;this.gl=t,this.structure=e,this.resources=i,this.chunks=[],(null==n?void 0:n.facesPerBuffer)&&console.warn("webgl render warning: facesPerBuffer option has been removed in favor of chunkSize"),this.chunkSize=null!==(s=null==n?void 0:n.chunkSize)&&void 0!==s?s:16,this.useInvisibleBlockBuffer=null===(r=null==n?void 0:n.useInvisibleBlockBuffer)||void 0===r||r,this.shaderProgram=new An(t,"\n  attribute vec4 vertPos;\n  attribute vec2 texCoord;\n  attribute vec3 tintColor;\n  attribute vec3 normal;\n\n  uniform mat4 mView;\n  uniform mat4 mProj;\n\n  varying highp vec2 vTexCoord;\n  varying highp vec3 vTintColor;\n  varying highp float vLighting;\n\n  void main(void) {\n    gl_Position = mProj * mView * vertPos;\n    vTexCoord = texCoord;\n    vTintColor = tintColor;\n    vLighting = normal.y * 0.2 + abs(normal.z) * 0.1 + 0.8;\n  }\n","\n  precision highp float;\n  varying highp vec2 vTexCoord;\n  varying highp vec3 vTintColor;\n  varying highp float vLighting;\n\n  uniform sampler2D sampler;\n\n  void main(void) {\n    vec4 texColor = texture2D(sampler, vTexCoord);\n    if(texColor.a < 0.01) discard;\n    gl_FragColor = vec4(texColor.xyz * vTintColor * vLighting, texColor.a);\n  }\n").getProgram(),this.gridShaderProgram=new An(t,"\n  attribute vec4 vertPos;\n  attribute vec3 vertColor;\n\n  uniform mat4 mView;\n  uniform mat4 mProj;\n\n  varying highp vec3 vColor;\n\n  void main(void) {\n    gl_Position = mProj * mView * vertPos;\n    vColor = vertColor;\n  }\n","\n  precision highp float;\n  varying highp vec3 vColor;\n\n  void main(void) {\n    gl_FragColor = vec4(vColor, 1.0);\n  }\n").getProgram(),this.colorShaderProgram=new An(t,"\n  attribute vec4 vertPos;\n  attribute vec3 blockPos;\n\n  uniform mat4 mView;\n  uniform mat4 mProj;\n\n  varying highp vec3 vColor;\n\n  void main(void) {\n    gl_Position = mProj * mView * vertPos;\n    vColor = blockPos / 256.0;\n  }\n","\n  precision highp float;\n  varying highp vec3 vColor;\n\n  void main(void) {\n    gl_FragColor = vec4(vColor, 1.0);\n  }\n").getProgram(),this.updateStructureBuffers(),this.gridBuffers=this.getGridBuffers(),this.outlineBuffers=this.getOutlineBuffers(),this.invisibleBlockBuffers=this.getInvisibleBlockBuffers(),this.atlasTexture=this.getBlockTexture(),this.projMatrix=this.getPerspective(),this.activeShader=this.shaderProgram,this.initialize()}setStructure(t){this.structure=t,this.updateStructureBuffers(),this.gridBuffers=this.getGridBuffers(),this.invisibleBlockBuffers=this.getInvisibleBlockBuffers()}initialize(){this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LEQUAL),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)}getBlockTexture(){const t=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.resources.getTextureAtlas()),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),t}getPerspective(){const t=70*Math.PI/180,e=this.gl.canvas.clientWidth/this.gl.canvas.clientHeight,i=Fi.Ue();return Fi.G3(i,t,e,.1,500),i}getChunk(t){const e=2*Math.abs(t[0])+(t[0]<0?1:0),i=2*Math.abs(t[1])+(t[1]<0?1:0),n=2*Math.abs(t[2])+(t[2]<0?1:0);return this.chunks[e]||(this.chunks[e]=[]),this.chunks[e][i]||(this.chunks[e][i]=[]),this.chunks[e][i][n]||(this.chunks[e][i][n]={positions:[],textureCoordinates:[],tintColors:[],blockPositions:[],normals:[],indices:[],indexOffset:0}),this.chunks[e][i][n]}updateStructureBuffers(t){var e;const i=(t,e,i)=>{const n=Fi.Ue();Fi.Iu(n,n,e),vn(t.position,n),i.positions.push(t.position),i.textureCoordinates.push(...t.texCoord),i.tintColors.push(...t.tintColor);for(let s=0;s<t.position.length;s+=12){const e=mi(t.position[s],t.position[s+1],t.position[s+2]),n=mi(t.position[s+3],t.position[s+4],t.position[s+5]),r=mi(t.position[s+6],t.position[s+7],t.position[s+8]);_i(n,n,e),_i(r,r,e),wi(n,n,r),vi(n,n),i.normals.push(...n,...n,...n,...n)}for(let s=0;s<t.texCoord.length/2;s+=1)i.blockPositions.push(...e);i.indices.push(...t.index),i.indexOffset+=t.texCoord.length/2},n=t=>{t.positions=[],t.textureCoordinates=[],t.tintColors=[],t.blockPositions=[],t.normals=[],t.indices=[],t.indexOffset=0},s=t=>{t.buffer?(this.updateBuffer(t.buffer.position,this.gl.ARRAY_BUFFER,_n(...t.positions)),this.updateBuffer(t.buffer.texCoord,this.gl.ARRAY_BUFFER,new Float32Array(t.textureCoordinates)),this.updateBuffer(t.buffer.tintColor,this.gl.ARRAY_BUFFER,new Float32Array(t.tintColors)),this.updateBuffer(t.buffer.normal,this.gl.ARRAY_BUFFER,new Float32Array(t.normals)),this.updateBuffer(t.buffer.blockPos,this.gl.ARRAY_BUFFER,new Float32Array(t.blockPositions)),this.updateBuffer(t.buffer.index,this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices)),t.buffer.length=t.indices.length):t.buffer={position:this.createBuffer(this.gl.ARRAY_BUFFER,_n(...t.positions)),texCoord:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(t.textureCoordinates)),tintColor:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(t.tintColors)),blockPos:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(t.blockPositions)),normal:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(t.normals)),index:this.createBuffer(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices)),length:t.indices.length}};let r;t?t.forEach((t=>{const e=this.getChunk(t);n(e)})):this.chunks.forEach((t=>t.forEach((t=>t.forEach((t=>{n(t)}))))));for(const o of this.structure.getBlocks()){const n=o.state.getName(),s=o.state.getProperties(),a=null!==(e=this.resources.getDefaultBlockProperties(n))&&void 0!==e?e:{};Object.entries(a).forEach((([t,e])=>{s[t]||(s[t]=e)}));const l=[Math.floor(o.pos[0]/this.chunkSize),Math.floor(o.pos[1]/this.chunkSize),Math.floor(o.pos[2]/this.chunkSize)];if(t&&!t.some((t=>yi(t,l))))continue;const h=this.getChunk(l);try{const t=this.resources.getBlockDefinition(n),e={up:this.needsCull(o,xi.UP),down:this.needsCull(o,xi.DOWN),west:this.needsCull(o,xi.WEST),east:this.needsCull(o,xi.EAST),north:this.needsCull(o,xi.NORTH),south:this.needsCull(o,xi.SOUTH)};t&&(r=t.getBuffers(n,s,this.resources,this.resources,h.indexOffset,e),i(r,o.pos,h)),Sn.has(n)&&(r=In[n](h.indexOffset,s,this.resources,e),i(r,o.pos,h))}catch(t){console.error(`Error rendering block ${n}`,t)}}t?t.forEach((t=>{const e=this.getChunk(t);s(e)})):this.chunks.forEach((t=>t.forEach((t=>t.forEach((t=>{s(t)}))))))}needsCull(t,e){var i,n;const s=null===(i=this.structure.getBlock(Bi.towards(t.pos,e)))||void 0===i?void 0:i.state;return!!s&&((null===(n=this.resources.getBlockFlags(s.getName()))||void 0===n?void 0:n.opaque)?!(e===xi.UP&&t.state.isFluid()):t.state.isFluid()&&s.isFluid())}getGridBuffers(){const[t,e,i]=this.structure.getSize(),n=[],s=[];n.push(0,0,0,t,0,0),s.push(1,0,0,1,0,0),n.push(0,0,0,0,0,i),s.push(0,0,1,0,0,1),n.push(0,0,0,0,e,0),n.push(t,0,0,t,e,0),n.push(0,0,i,0,e,i),n.push(t,0,i,t,e,i),n.push(0,e,0,0,e,i),n.push(t,e,0,t,e,i),n.push(0,e,0,t,e,0),n.push(0,e,i,t,e,i);for(let r=1;r<=t;r+=1)n.push(r,0,0,r,0,i);for(let r=1;r<=i;r+=1)n.push(0,0,r,t,0,r);for(let r=0;r<8+t+i;r+=1)s.push(.8,.8,.8,.8,.8,.8);return{position:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(n)),color:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(s)),length:n.length/3}}getOutlineBuffers(){const t=[],e=[];return this.addCube(t,e,[1,1,1],[0,0,0],[1,1,1]),{position:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(t)),color:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(e)),length:t.length/3}}getInvisibleBlockBuffers(){if(!this.useInvisibleBlockBuffer)return;const t=this.structure.getSize(),e=[],i=[];for(let n=0;n<t[0];n+=1)for(let s=0;s<t[1];s+=1)for(let r=0;r<t[2];r+=1){const t=this.structure.getBlock([n,s,r]);void 0!==t&&(null===t?this.addCube(e,i,[1,.25,.25],[n+.4375,s+.4375,r+.4375],[n+.5625,s+.5625,r+.5625]):"minecraft:air"===t.state.getName()?this.addCube(e,i,[.5,.5,1],[n+.375,s+.375,r+.375],[n+.625,s+.625,r+.625]):"minecraft:cave_air"===t.state.getName()&&this.addCube(e,i,[.5,1,.5],[n+.375,s+.375,r+.375],[n+.625,s+.625,r+.625]))}return{position:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(e)),color:this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array(i)),length:e.length/3}}addCube(t,e,i,n,s){t.push(n[0],n[1],n[2],n[0],n[1],s[2]),t.push(s[0],n[1],n[2],s[0],n[1],s[2]),t.push(n[0],n[1],n[2],s[0],n[1],n[2]),t.push(n[0],n[1],s[2],s[0],n[1],s[2]),t.push(n[0],n[1],n[2],n[0],s[1],n[2]),t.push(s[0],n[1],n[2],s[0],s[1],n[2]),t.push(n[0],n[1],s[2],n[0],s[1],s[2]),t.push(s[0],n[1],s[2],s[0],s[1],s[2]),t.push(n[0],s[1],n[2],n[0],s[1],s[2]),t.push(s[0],s[1],n[2],s[0],s[1],s[2]),t.push(n[0],s[1],n[2],s[0],s[1],n[2]),t.push(n[0],s[1],s[2],s[0],s[1],s[2]);for(let r=0;r<24;r+=1)e.push(...i)}createBuffer(t,e){const i=this.gl.createBuffer();return this.gl.bindBuffer(t,i),this.gl.bufferData(t,e,this.gl.DYNAMIC_DRAW),i}updateBuffer(t,e,i){this.gl.bindBuffer(e,t),this.gl.bufferData(e,i,this.gl.STATIC_DRAW)}drawGrid(t){this.setShader(this.gridShaderProgram),this.setVertexAttr("vertPos",3,this.gridBuffers.position),this.setVertexAttr("vertColor",3,this.gridBuffers.color),this.setUniform("mView",t),this.setUniform("mProj",this.projMatrix),this.gl.drawArrays(this.gl.LINES,0,this.gridBuffers.length)}drawInvisibleBlocks(t){this.useInvisibleBlockBuffer&&(this.setShader(this.gridShaderProgram),this.setVertexAttr("vertPos",3,this.invisibleBlockBuffers.position),this.setVertexAttr("vertColor",3,this.invisibleBlockBuffers.color),this.setUniform("mView",t),this.setUniform("mProj",this.projMatrix),this.gl.drawArrays(this.gl.LINES,0,this.invisibleBlockBuffers.length))}drawStructure(t){this.setShader(this.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.atlasTexture),this.setUniform("mView",t),this.setUniform("mProj",this.projMatrix),this.chunks.forEach((t=>{t.forEach((t=>{t.forEach((t=>{t.buffer&&(this.setVertexAttr("vertPos",3,t.buffer.position),this.setVertexAttr("texCoord",2,t.buffer.texCoord),this.setVertexAttr("tintColor",3,t.buffer.tintColor),this.setVertexAttr("normal",3,t.buffer.normal),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.buffer.index),this.gl.drawElements(this.gl.TRIANGLES,t.buffer.length,this.gl.UNSIGNED_SHORT,0))}))}))}))}drawColoredStructure(t){this.setShader(this.colorShaderProgram),this.setUniform("mView",t),this.setUniform("mProj",this.projMatrix),this.chunks.forEach((t=>{t.forEach((t=>{t.forEach((t=>{t.buffer&&(this.setVertexAttr("vertPos",3,t.buffer.position),this.setVertexAttr("blockPos",3,t.buffer.blockPos),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.buffer.index),this.gl.drawElements(this.gl.TRIANGLES,t.buffer.length,this.gl.UNSIGNED_SHORT,0))}))}))}))}drawOutline(t,e){this.setShader(this.gridShaderProgram),this.setVertexAttr("vertPos",3,this.outlineBuffers.position),this.setVertexAttr("vertColor",3,this.outlineBuffers.color);const i=Fi.Ue();Fi.JG(i,t),Fi.Iu(i,i,e),this.setUniform("mView",i),this.setUniform("mProj",this.projMatrix),this.gl.drawArrays(this.gl.LINES,0,this.outlineBuffers.length)}setViewport(t,e,i,n){this.gl.viewport(t,e,i,n),this.projMatrix=this.getPerspective()}setShader(t){this.gl.useProgram(t),this.activeShader=t}setVertexAttr(t,e,i){const n=this.gl.getAttribLocation(this.activeShader,t);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i),this.gl.vertexAttribPointer(n,e,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(n)}setUniform(t,e){const i=this.gl.getUniformLocation(this.activeShader,t);this.gl.uniformMatrix4fv(i,!1,e)}}function Rn(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{l(n.next(t))}catch(t){r(t)}}function a(t){try{l(n.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))}class Cn{constructor(t,e){this.img=t,this.idMap=e,this.part=16/t.width}getTextureAtlas(){return this.img}getTextureUV(t){var e;return null!==(e=this.idMap[t])&&void 0!==e?e:[0,0,this.part,this.part]}static fromBlobs(t){return Rn(this,void 0,void 0,(function*(){const e=Math.sqrt(Object.keys(t).length+1),i=Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))),n=16*i,s=1/i,r=document.createElement("canvas");r.width=n,r.height=n;const o=r.getContext("2d");this.drawInvalidTexture(o);const a={};let l=1;return yield Promise.all(Object.keys(t).map((e=>Rn(this,void 0,void 0,(function*(){const n=l%i,r=Math.floor(l/i);l+=1,a[e]=[s*n,s*r,s*n+s,s*r+s];const h=yield createImageBitmap(t[e]);o.drawImage(h,0,0,16,16,16*n,16*r,16,16)}))))),new Cn(o.getImageData(0,0,n,n),a)}))}static empty(){const t=document.createElement("canvas");t.width=16,t.height=16;const e=t.getContext("2d");return Cn.drawInvalidTexture(e),new Cn(e.getImageData(0,0,16,16),{})}static drawInvalidTexture(t){t.fillStyle="black",t.fillRect(0,0,16,16),t.fillStyle="magenta",t.fillRect(0,0,8,8),t.fillRect(8,8,8,8)}}var Tn,On,Mn,zn,Nn,Un,Ln,Dn,Zn,jn;!function(t){function e(t,e){return"number"==typeof t?new i(t,null!=e?e:t):t}t.target=function(t,e,i,n,r,o){return new s(t,e,i,n,r,o)},t.parameters=function(t,i,s,r,o,a,l){return new n(e(t),e(i),e(s),e(r),e(o),e(a),l)},t.param=e;class i{constructor(t,e){this.min=t,this.max=e}distance(t){const e=("number"==typeof t?t:t.min)-this.max,i=this.min-("number"==typeof t?t:t.max);return e>0?e:Math.max(i,0)}union(t){return new i(Math.min(this.min,t.min),Math.max(this.max,t.max))}static fromJson(t){var e;if("number"==typeof t)return new i(t,t);const[n,s]=null!==(e=zi.readArray(t,(t=>zi.readNumber(t))))&&void 0!==e?e:[];return new i(null!=n?n:0,null!=s?s:0)}}t.Param=i;class n{constructor(t,e,i,n,s,r,o){this.temperature=t,this.humidity=e,this.continentalness=i,this.erosion=n,this.depth=s,this.weirdness=r,this.offset=o}fittness(t){return Yi(this.temperature.distance(t.temperature))+Yi(this.humidity.distance(t.humidity))+Yi(this.continentalness.distance(t.continentalness))+Yi(this.erosion.distance(t.erosion))+Yi(this.depth.distance(t.depth))+Yi(this.weirdness.distance(t.weirdness))+Yi(this.offset-t.offset)}space(){return[this.temperature,this.humidity,this.continentalness,this.erosion,this.depth,this.weirdness,new i(this.offset,this.offset)]}static fromJson(t){var e,s;const r=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return new n(i.fromJson(r.temperature),i.fromJson(r.humidity),i.fromJson(r.continentalness),i.fromJson(r.erosion),i.fromJson(r.depth),i.fromJson(r.weirdness),null!==(s=zi.readInt(r.offset))&&void 0!==s?s:0)}}t.ParamPoint=n;class s{constructor(t,e,i,n,s,r){this.temperature=t,this.humidity=e,this.continentalness=i,this.erosion=n,this.depth=s,this.weirdness=r}get offset(){return 0}toArray(){return[this.temperature,this.humidity,this.continentalness,this.erosion,this.depth,this.weirdness,this.offset]}}t.TargetPoint=s,t.Parameters=class{constructor(t){this.things=t,this.index=new r(t)}find(t){return this.index.search(t,((t,e)=>t.distance(e)))}};class r{constructor(t){this.root=r.build(t.map((([t,e])=>new l(t,e))))}static build(t){if(1===t.length)return t[0];if(t.length<=r.CHILDREN_PER_NODE){const e=t.map((t=>{let e=0;for(let i=0;i<7;i+=1){const n=t.space[i];e+=Math.abs((n.min+n.max)/2)}return{key:e,node:t}})).sort(((t,e)=>t.key-e.key)).map((({node:t})=>t));return new a(e)}let e=1/0,i=-1,n=[];for(let s=0;s<7;++s){t=r.sort(t,s,!1),n=r.bucketize(t);let o=0;for(const t of n)o+=r.area(t.space);e>o&&(e=o,i=s)}return t=r.sort(t,i,!1),n=r.bucketize(t),n=r.sort(n,i,!0),new a(n.map((t=>r.build(t.children))))}static sort(t,e,i){return t.map((t=>{const n=t.space[e],s=(n.min+n.max)/2;return{key:i?Math.abs(s):s,node:t}})).sort(((t,e)=>t.key-e.key)).map((({node:t})=>t))}static bucketize(t){const e=[];let i=[];const n=Math.pow(10,Math.floor(Math.log(t.length-.01)/Math.log(10)));for(const s of t)i.push(s),i.length<n||(e.push(new a(i)),i=[]);return 0!==i.length&&e.push(new a(i)),e}static area(t){let e=0;for(const i of t)e+=Math.abs(i.max-i.min);return e}search(t,e){return this.root.search(t.toArray(),e).thing()}}r.CHILDREN_PER_NODE=10,t.RTree=r;class o{constructor(t){this.space=t}distance(t){let e=0;for(let i=0;i<7;i+=1)e+=Yi(this.space[i].distance(t[i]));return e}}t.RNode=o;class a extends o{constructor(t){super(a.buildSpace(t)),this.children=t}static buildSpace(t){let e=[...Array(7)].map((()=>new i(1/0,-1/0)));for(const i of t)e=[...Array(7)].map(((t,n)=>e[n].union(i.space[n])));return e}search(t,e){let i=1/0,n=null;for(const s of this.children){const r=e(s,t);if(i<=r)continue;const o=s.search(t,e),a=s==o?r:e(o,t);i<=a||(i=a,n=o)}return n}}t.RSubTree=a;class l extends o{constructor(t,e){super(t.space()),this.thing=e}search(){return this}}t.RLeaf=l}(Tn||(Tn={}));class Hn{constructor(t){this.parameters=t}getBiome(t,e,i,n){const s=n(t,e,i);return this.parameters.find(s)}static fromJson(t){var e,i;const n=null!==(e=zi.readObject(t))&&void 0!==e?e:{},s=(null!==(i=zi.readArray(n.biomes,(t=>{var e;return(t=>{var e;return{biome:null!==(e=zi.readString(t.biome))&&void 0!==e?e:"minecraft:the_void",parameters:Tn.ParamPoint.fromJson(t.parameters)}})(null!==(e=zi.readObject(t))&&void 0!==e?e:{})})))&&void 0!==i?i:[]).map((t=>[t.parameters,()=>t.biome]));return new Hn(new Tn.Parameters(s))}}!function(t){function e(t){return 3*-(Math.abs(Math.abs(t)-.6666667)-.33333334)}t.offset=function(t){return o.apply(t)+.015},t.factor=function(t){return a.apply(t)},t.jaggedness=function(t){return l.apply(t)},t.peaksAndValleys=e,t.point=function(t,i,n){return{continents:t,erosion:i,weirdness:n,ridges:e(n)}};const i=u("beachSpline",-.05,0,0,.1,0,-.03,!1,!1),n=u("lowSpline",-.1,.03,.1,.1,.01,-.03,!1,!1),s=u("midSpline",-.1,.03,.1,.7,.01,-.03,!0,!0),r=u("highSpline",.3,.03,.1,1,.01,.01,!0,!0),o=new rn("Offset",(t=>t.continents)).addPoint(-1.1,.044).addPoint(-1.02,-.2222).addPoint(-.51,-.2222).addPoint(-.44,-.12).addPoint(-.18,-.12).addPoint(-.16,i).addPoint(-.15,i).addPoint(-.1,n).addPoint(.25,s).addPoint(1,r),a=new rn("Factor",(t=>t.continents)).addPoint(-.19,3.95).addPoint(-.15,h("erosionCoast",6.25,!0)).addPoint(-.1,h("erosionInland",5.47,!0)).addPoint(.03,h("erosionMidInland",5.08,!0)).addPoint(.06,h("erosionFarInland",4.69,!1)),l=new rn("Jaggedness",(t=>t.continents)).addPoint(.11,0).addPoint(.03,p(1,.5,0,0)).addPoint(.65,p(1,1,1,0));function h(t,e,i){const n=new rn("weirdness",(t=>t.weirdness)).addPoint(-.2,6.3).addPoint(.2,e),s=new rn(t,(t=>t.erosion)).addPoint(-.6,n).addPoint(-.5,new rn("weirdness",(t=>t.weirdness)).addPoint(-.05,6.3).addPoint(.05,2.67)).addPoint(-.35,n).addPoint(-.25,n).addPoint(-.1,new rn("weirdness",(t=>t.weirdness)).addPoint(-.05,2.67).addPoint(.05,6.3)).addPoint(.03,n);if(i){const t=new rn("weirdnessShattered",(t=>t.weirdness)).addPoint(0,e).addPoint(.1,.625),i=new rn("ridgesShattered",(t=>t.ridges)).addPoint(-.9,e).addPoint(-.69,t);s.addPoint(.35,e).addPoint(.45,i).addPoint(.55,i).addPoint(.62,e)}else{const t=new rn("ridges",(t=>t.ridges)).addPoint(-.7,n).addPoint(-.15,1.37),i=new rn("ridges",(t=>t.ridges)).addPoint(.45,n).addPoint(.7,1.56);s.addPoint(.05,i).addPoint(.4,i).addPoint(.45,t).addPoint(.55,t).addPoint(.58,e)}return s}function u(t,e,i,n,s,r,o,a,l){const h=c(Wi(s,.6,1.5),l),u=c(Wi(s,.6,1),l),d=c(s,l),f=g(t+"-widePlateau",e-.15,.5*s,Wi(.5,.5,.5)*s,.5*s,.6*s,.5),p=g(t+"-narrowPlateau",e,r*s,i*s,.5*s,.6*s,.5),m=g(t+"-plains",e,r,r,i,n,.5),_=g(t+"-plainsFarInland",e,r,r,i,n,.5),v=new rn(t,(t=>t.ridges)).addPoint(-1,e).addPoint(-.4,m).addPoint(0,n+.07),w=g(t+"-swamps",-.02,o,o,i,n,0),b=new rn(t,(t=>t.erosion)).addPoint(-.85,h).addPoint(-.7,u).addPoint(-.4,d).addPoint(-.35,f).addPoint(-.1,p).addPoint(.2,m);return a&&b.addPoint(.4,_).addPoint(.45,v).addPoint(.55,v).addPoint(.58,_),b.addPoint(.7,w),b}function c(t,e){const i=new rn(`M-spline for continentalness: ${t} ${e}`,(t=>t.ridges)),n=d(-1,t,-.7),s=d(1,t,-.7),r=function(t){return.5*(1-t)/(.46082947*(1-.5*(1-t)))-1.17}(t);if(-.65<r&&r<1){const e=d(-.65,t,-.7),o=d(-.75,t,-.7),a=f(n,o,-1,-.75);i.addPoint(-1,n,a),i.addPoint(-.75,o),i.addPoint(-.65,e);const l=d(r,t,-.7),h=f(l,s,r,1);i.addPoint(r-.01,l),i.addPoint(r,l,h),i.addPoint(1,s,h)}else{const t=f(n,s,-1,1);e?(i.addPoint(-1,Math.max(.2,n)),i.addPoint(0,Wi(.5,n,s),t)):i.addPoint(-1,n,t),i.addPoint(1,s,t)}return i}function d(t,e,i){const n=.46082947*(t+1.17)*(1-.5*(1-e))-.5*(1-e);return t<i?Math.max(n,-.2222):Math.max(n,0)}function f(t,e,i,n){return(e-t)/(n-i)}function g(t,e,i,n,s,r,o){const a=Math.max(.5*(i-e),o),l=5*(n-i);return new rn(t,(t=>t.ridges)).addPoint(-1,e,a).addPoint(-.4,i,Math.min(a,l)).addPoint(0,n,l).addPoint(.4,s,2*(s-n)).addPoint(1,r,.7*(r-s))}function p(t,e,i,n){const s=m(t,i),r=m(e,n);return new rn("Jaggedness-erosion",(t=>t.erosion)).addPoint(-1,s).addPoint(-.78,r).addPoint(-.5775,r).addPoint(-.375,0)}function m(e,i){const n=t.peaksAndValleys(.4),s=(n+t.peaksAndValleys(.56666666))/2;return new rn("Jaggedness-ridges",(t=>t.ridges)).addPoint(n,0).addPoint(s,i>0?_(i):0).addPoint(1,e>0?_(e):0)}function _(t){return new rn("Jaggedness-weirdness",(t=>t.weirdness)).addPoint(-.01,.63*t).addPoint(.01,.3*t)}}(On||(On={})),function(t){t.fromList=function(t){return(e,i,n,s)=>{for(const r of t){const t=r(e,i,n,s);if(t)return t}return null}}}(Mn||(Mn={}));class Yn{constructor(t,e){this.chunk=t,this.filler=e,this.noise000=0,this.noise001=0,this.noise100=0,this.noise101=0,this.noise010=0,this.noise011=0,this.noise110=0,this.noise111=0,this.valueXZ00=0,this.valueXZ10=0,this.valueXZ01=0,this.valueXZ11=0,this.valueZ0=0,this.valueZ1=0,this.value=0,this.slice0=Yn.allocateSlice(t.cellCountY,t.cellCountXZ),this.slice1=Yn.allocateSlice(t.cellCountY,t.cellCountXZ)}static allocateSlice(t,e){const i=Array(e+1);for(let n=0;n<e+1;n+=1)i[n]=Array(t+1);return i}initializeForFirstCellX(){this.fillSlice(this.slice0,this.chunk.firstCellX)}advanceCellX(t){this.fillSlice(this.slice1,this.chunk.firstCellX+t+1)}fillSlice(t,e){const i=e*this.chunk.cellWidth;for(let n=0;n<this.chunk.cellCountXZ+1;n+=1){const e=(this.chunk.firstCellZ+n)*this.chunk.cellWidth;for(let s=0;s<this.chunk.cellCountY+1;s+=1){const r=(this.chunk.cellCountNoiseMinY+s)*this.chunk.cellHeight;t[n][s]=this.filler(i,r,e)}}}selectCellYZ(t,e){this.noise000=this.slice0[e][t],this.noise001=this.slice0[e+1][t],this.noise100=this.slice1[e][t],this.noise101=this.slice1[e+1][t],this.noise010=this.slice0[e][t+1],this.noise011=this.slice0[e+1][t+1],this.noise110=this.slice1[e][t+1],this.noise111=this.slice1[e+1][t+1]}updateForY(t){this.valueXZ00=Wi(t,this.noise000,this.noise010),this.valueXZ10=Wi(t,this.noise100,this.noise110),this.valueXZ01=Wi(t,this.noise001,this.noise011),this.valueXZ11=Wi(t,this.noise101,this.noise111)}updateForX(t){this.valueZ0=Wi(t,this.valueXZ00,this.valueXZ10),this.valueZ1=Wi(t,this.valueXZ01,this.valueXZ11)}updateForZ(t){this.value=Wi(t,this.valueZ0,this.valueZ1)}sample(){return this.value}swapSlices(){[this.slice0,this.slice1]=[this.slice1,this.slice0]}}class Xn{constructor(t,e,i,n,s,r,o,a,l){this.cellWidth=t,this.cellHeight=e,this.cellCountXZ=i,this.cellCountY=n,this.cellCountNoiseMinY=s,this.firstCellX=Math.floor(o/t),this.firstCellZ=Math.floor(a/t),this.interpolators=[],this.terrainInfo=new Map;const h=i*t+1;this.shiftedX=Array(h),this.shiftedZ=Array(h),this.continentalness=Array(h),this.weirdness=Array(h),this.erosion=Array(h),this.terrainInfoBuffer=Array(h);for(let u=0;u<h;u+=1){const t=this.firstCellX+u;this.shiftedX[u]=Array(h),this.shiftedZ[u]=Array(h),this.continentalness[u]=Array(h),this.weirdness[u]=Array(h),this.erosion[u]=Array(h),this.terrainInfoBuffer[u]=Array(h);for(let e=0;e<h;e+=1){const i=this.firstCellZ+e,n=Nn.create(r,t,i);this.shiftedX[u][e]=n.shiftedX,this.shiftedZ[u][e]=n.shiftedZ,this.continentalness[u][e]=n.continentalness,this.weirdness[u][e]=n.weirdness,this.erosion[u][e]=n.erosion,this.terrainInfoBuffer[u][e]=n.terrainInfo}}this.baseNoise=r.makeBaseNoiseFiller(this,l)}getShiftedX(t,e){return this.shiftedX[t-this.firstCellX][e-this.firstCellZ]}getShiftedZ(t,e){return this.shiftedZ[t-this.firstCellX][e-this.firstCellZ]}getContinentalness(t,e){return this.continentalness[t-this.firstCellX][e-this.firstCellZ]}getWeirdness(t,e){return this.weirdness[t-this.firstCellX][e-this.firstCellZ]}getErosion(t,e){return this.erosion[t-this.firstCellX][e-this.firstCellZ]}getTerrainInfo(t,e){return this.terrainInfoBuffer[t-this.firstCellX][e-this.firstCellZ]}createNoiseInterpolator(t){const e=new Yn(this,t);return this.interpolators.push(e),e}initializeForFirstCellX(){this.interpolators.forEach((t=>t.initializeForFirstCellX()))}advanceCellX(t){this.interpolators.forEach((e=>e.advanceCellX(t)))}selectCellYZ(t,e){this.interpolators.forEach((i=>i.selectCellYZ(t,e)))}updateForY(t){this.interpolators.forEach((e=>e.updateForY(t)))}updateForX(t){this.interpolators.forEach((e=>e.updateForX(t)))}updateForZ(t){this.interpolators.forEach((e=>e.updateForZ(t)))}swapSlices(){this.interpolators.forEach((t=>t.swapSlices()))}updateNoiseAndGenerateBaseState(t,e,i){return this.baseNoise(t,e,i)}}!function(t){t.create=function(t,e,i){return{offset:t,factor:e,jaggedness:i}}}(zn||(zn={})),function(t){t.create=function(t,e,i){const n=e+t.getOffset(e,0,i),s=i+t.getOffset(i,e,0),r=t.getContinentalness(n,s),o=t.getWeirdness(n,s),a=t.getErosion(n,s);return{shiftedX:n,shiftedZ:s,continentalness:r,weirdness:o,erosion:a,terrainInfo:t.getTerrainInfo(n<<2,s<<2,r,o,a)}}}(Nn||(Nn={})),function(t){t.fromJson=function(t){var e,i,n,s,r,o,a,l,h,u,c,d;const f=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{minY:null!==(i=zi.readInt(f.min_y))&&void 0!==i?i:0,height:null!==(n=zi.readInt(f.height))&&void 0!==n?n:256,xzSize:null!==(s=zi.readInt(f.size_horizontal))&&void 0!==s?s:1,ySize:null!==(r=zi.readInt(f.size_vertical))&&void 0!==r?r:1,densityFactor:null!==(o=zi.readNumber(f.density_factor))&&void 0!==o?o:0,densityOffset:null!==(a=zi.readNumber(f.density_offset))&&void 0!==a?a:0,sampling:Ui.fromJson(f.sampling),topSlide:Ln.fromJson(f.top_slide),bottomSlide:Ln.fromJson(f.bottom_slide),useSimplexSurfaceNoise:null!==(l=zi.readBoolean(f.simplex_surface_noise))&&void 0!==l&&l,randomDensityOffset:null!==(h=zi.readBoolean(f.random_density_offset))&&void 0!==h&&h,islandNoiseOverride:null!==(u=zi.readBoolean(f.island_noise_override))&&void 0!==u&&u,isAmplified:null!==(c=zi.readBoolean(f.amplified))&&void 0!==c&&c,useLegacyRandom:null!==(d=zi.readBoolean(f.use_legacy_random))&&void 0!==d&&d}}}(Un||(Un={})),function(t){t.fromJson=function(t){var e,i,n,s;const r=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{target:null!==(i=zi.readNumber(r.target))&&void 0!==i?i:0,size:null!==(n=zi.readInt(r.size))&&void 0!==n?n:0,offset:null!==(s=zi.readInt(r.offset))&&void 0!==s?s:0}},t.apply=function(t,e,i){if(t.size<=0)return e;const n=(i-t.offset)/t.size;return Ji(t.target,e,n)}}(Ln||(Ln={}));class Wn{constructor(t,e,i,n,s,r,o=!1,a){if(this.cellWidth=t,this.cellHeight=e,this.cellCountY=i,this.settings=n,o){const i=new $i(r),o=n.useLegacyRandom?new $i(r):i.fork();this.blendedNoise=new en(o,n.sampling,t,e),i.consume(8),this.temperatureNoise=new nn(new $i(r),s.temperature),this.humidityNoise=new nn(new $i(r+BigInt(1)),s.humidity),this.continentalnessNoise=new nn(new $i(r+BigInt(2)),s.continentalness),this.erosionNoise=new nn(new $i(r+BigInt(3)),s.erosion),this.weirdnessNoise=new nn(new $i(r+BigInt(4)),s.weirdness),this.offsetNoise=new nn(new $i(r+BigInt(5)),s.shift),this.jaggedNoise=new nn(i.fork(),{firstOctave:-16,amplitudes:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]})}else{const i=qi.create(r).fork();this.blendedNoise=new en(i.forkWithHashOf("terrain"),n.sampling,t,e),this.temperatureNoise=new nn(i.forkWithHashOf("temperature"),s.temperature),this.humidityNoise=new nn(i.forkWithHashOf("vegetation"),s.humidity),this.continentalnessNoise=new nn(i.forkWithHashOf("continentalness"),s.continentalness),this.erosionNoise=new nn(i.forkWithHashOf("erosion"),s.erosion),this.weirdnessNoise=new nn(i.forkWithHashOf("ridge"),s.weirdness),this.offsetNoise=new nn(i.forkWithHashOf("offset"),s.shift),this.jaggedNoise=new nn(i.forkWithHashOf("jagged"),{firstOctave:-16,amplitudes:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]})}this.baseNoise=t=>{const e=t.createNoiseInterpolator(((e,i,n)=>this.calculateBaseNoise(e,i,n,null!=a?a:t.getTerrainInfo(e>>2,n>>2))));return()=>e.sample()}}sample(t,e,i){const n=t+this.getOffset(t,0,i),s=i+this.getOffset(i,t,0),r=this.getContinentalness(n,s),o=this.getErosion(n,s),a=this.getWeirdness(n,s),l=On.offset(On.point(r,o,a));return this.target(t,e,i,n,s,r,o,a,l)}target(t,e,i,n,s,r,o,a,l){const h=e+this.getOffset(e,i,t),u=this.getTemperature(n,h,s),c=this.getHumidity(n,h,s),d=this.computeDimensionDensity(e<<2)+l;return Tn.target(u,c,r,o,d,a)}getOffset(t,e,i){return 4*this.offsetNoise.sample(t,e,i)}getTemperature(t,e,i){return this.temperatureNoise.sample(t,e,i)}getHumidity(t,e,i){return this.humidityNoise.sample(t,e,i)}getContinentalness(t,e){return this.continentalnessNoise.sample(t,0,e)}getErosion(t,e){return this.erosionNoise.sample(t,0,e)}getWeirdness(t,e){return this.weirdnessNoise.sample(t,0,e)}getTerrainInfo(t,e,i,n,s){const r=On.point(i,n,s);return zn.create(On.offset(r),On.factor(r),On.jaggedness(r))}makeBaseNoiseFiller(t,e){const i=this.baseNoise(t);return(t,n,s)=>{let r=i();return r=Xi(.64*r,-1,1),r=r/2-r*r*r/24,r+=e(t,n,s),r>0?null:Di.AIR}}calculateBaseNoise(t,e,i,n){let s=this.blendedNoise.sample(t,e,i);if(n){const r=this.sampleJaggedNoise(n.jaggedness,t,i),o=this.computeDimensionDensity(e),a=n.factor*(n.offset+r+o);s+=a>0?4*a:a}return s=Xi(s,-64,64),s=this.applySlide(s,e/this.cellHeight),s=Xi(s,-64,64),s}sampleJaggedNoise(t,e,i){if(0===t)return 0;const n=this.jaggedNoise.sample(1500*e,0,1500*i);return n>0?t*n:t/2*n}computeDimensionDensity(t){return(1-t/128)*this.settings.densityFactor+this.settings.densityOffset}applySlide(t,e){const i=e-Math.floor(this.settings.minY/this.cellHeight);return t=Ln.apply(this.settings.topSlide,t,this.cellCountY-i),Ln.apply(this.settings.bottomSlide,t,i)}}class Vn{constructor(t,e,i,n){this.biomeSource=e,this.settings=i,this.cellHeight=i.noise.ySize<<2,this.cellWidth=i.noise.xzSize<<2,this.cellCountXZ=Math.floor(16/this.cellWidth),this.cellCountY=Math.floor(i.noise.height/this.cellHeight),this.sampler=new Wn(this.cellWidth,this.cellHeight,this.cellCountY,i.noise,i.octaves,t,i.legacyRandomSource,n),this.materialRule=Mn.fromList([(t,e,i,n)=>t.updateNoiseAndGenerateBaseState(e,i,n)])}fillBiomes(t){const e=Math.max(t.minY,this.settings.noise.minY),i=Math.min(t.maxY,this.settings.noise.minY+this.settings.noise.height),n=Math.floor(e/this.cellHeight);Math.floor((i-e)/this.cellHeight);const s=Ni.minBlockX(t.pos),r=Ni.minBlockZ(t.pos),o=new Xn(this.cellWidth,this.cellHeight,this.cellCountXZ,this.cellCountY,n,this.sampler,s,r,(()=>0));for(let a=0;a<t.sectionsCount;a+=1){const e=t.sections[a].minBlockY;for(let t=0;t<4;t+=1)for(let i=0;i<4;i+=1)for(let n=0;n<4;n+=1){const a=s+t,l=e+i,h=r+n,u=o.getShiftedX(a,h),c=o.getShiftedZ(a,h),d=o.getContinentalness(a,h),f=o.getErosion(a,h),g=o.getWeirdness(a,h),p=o.getTerrainInfo(a,h).offset,m=this.sampler.target(a,l,h,u,c,d,f,g,p);this.biomeSource.getBiome(a,l,h,(()=>m))}}}fill(t){var e;const i=Math.max(t.minY,this.settings.noise.minY),n=Math.min(t.maxY,this.settings.noise.minY+this.settings.noise.height),s=Math.floor(i/this.cellHeight),r=Math.floor((n-i)/this.cellHeight),o=Ni.minBlockX(t.pos),a=Ni.minBlockZ(t.pos),l=new Xn(this.cellWidth,this.cellHeight,this.cellCountXZ,this.cellCountY,s,this.sampler,o,a,(()=>0));l.initializeForFirstCellX();for(let h=0;h<this.cellCountXZ;h+=1){l.advanceCellX(h);for(let i=0;i<this.cellCountXZ;i+=1){let n=t.getOrCreateSection(t.sectionsCount-1);for(let u=r-1;u>=0;u-=1){l.selectCellYZ(u,i);for(let r=this.cellHeight-1;r>=0;r-=1){const c=(s+u)*this.cellHeight+r,d=15&c,f=t.getSectionIndex(c);t.getSectionIndex(n.minBlockY)!==f&&(n=t.getOrCreateSection(f));const g=r/this.cellHeight;l.updateForY(g);for(let t=0;t<this.cellWidth;t+=1){const s=o+h*this.cellWidth+t,r=15&s,u=t/this.cellWidth;l.updateForX(u);for(let t=0;t<this.cellWidth;t+=1){const o=a+i*this.cellWidth+t,h=15&o,u=t/this.cellWidth;l.updateForZ(u);let f=null!==(e=this.materialRule(l,s,c,o))&&void 0!==e?e:this.settings.defaultBlock;if(f.equals(Di.AIR)){if(!(c<this.settings.seaLevel))continue;f=this.settings.defaultFluid}n.setBlockState(r,d,h,f)}}}}}l.swapSlices()}}}!function(t){t.fromJson=function(t){var e,i,n,s,r,o,a,l,h,u,c;const d=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{structures:Zn.fromJson(d.structures),noise:Un.fromJson(d.noise),octaves:jn.fromJson(d.octaves),defaultBlock:Di.fromJson(d.default_block),defaultFluid:Di.fromJson(d.default_fluid),bedrockRoofPosition:null!==(i=zi.readInt(d.bedrock_roof_position))&&void 0!==i?i:0,bedrockFloorPosition:null!==(n=zi.readInt(d.bedrock_floor_position))&&void 0!==n?n:0,seaLevel:null!==(s=zi.readInt(d.sea_level))&&void 0!==s?s:0,disableMobGeneration:null!==(r=zi.readBoolean(d.disable_mob_generation))&&void 0!==r&&r,aquifersEnabled:null!==(o=zi.readBoolean(d.aquifers_enabled))&&void 0!==o&&o,noiseCavesEnabled:null!==(a=zi.readBoolean(d.noise_caves_enabled))&&void 0!==a&&a,deepslateEnabled:null!==(l=zi.readBoolean(d.deepslate_enabled))&&void 0!==l&&l,oreVeinsEnabled:null!==(h=zi.readBoolean(d.ore_veins_enabled))&&void 0!==h&&h,noodleCavesEnabled:null!==(u=zi.readBoolean(d.noodle_caves_enabled))&&void 0!==u&&u,legacyRandomSource:null!==(c=zi.readBoolean(d.legacy_random_source))&&void 0!==c&&c}}}(Dn||(Dn={})),function(t){t.fromJson=function(t){var e;const i=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{stronghold:zi.compose(i.stronghold,zi.readObject,(t=>{var e,i,n;return{distance:null!==(e=zi.readInt(t.distance))&&void 0!==e?e:0,spread:null!==(i=zi.readInt(t.spread))&&void 0!==i?i:0,count:null!==(n=zi.readInt(t.count))&&void 0!==n?n:0}})),structures:zi.readMap(i.structures,(t=>{var e;return(t=>{var e,i,n;return{spacing:null!==(e=zi.readInt(t.spacing))&&void 0!==e?e:0,separation:null!==(i=zi.readInt(t.separation))&&void 0!==i?i:0,salt:null!==(n=zi.readInt(t.salt))&&void 0!==n?n:0}})(null!==(e=zi.readObject(t))&&void 0!==e?e:{})}))}}}(Zn||(Zn={})),function(t){t.fromJson=function(t){var e;const i=null!==(e=zi.readObject(t))&&void 0!==e?e:{};return{temperature:Li.fromJson(i.temperature),humidity:Li.fromJson(i.humidity),continentalness:Li.fromJson(i.continentalness),erosion:Li.fromJson(i.erosion),weirdness:Li.fromJson(i.weirdness),shift:Li.fromJson(i.shift)}}}(jn||(jn={}))},9685:function(t,e,i){"use strict";i.d(e,{Ib:function(){return n},WT:function(){return s},c$:function(){return o}});var n=1e-6,s="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var r=Math.PI/180;function o(t){return t*r}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},5975:function(t,e,i){"use strict";i.d(e,{Ue:function(){return s},JG:function(){return r},yR:function(){return o},Iu:function(){return a},bA:function(){return l},U1:function(){return h},lM:function(){return u},uD:function(){return c},G3:function(){return d}});var n=i(9685);function s(){var t=new n.WT(16);return n.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t,e,i){var n,s,r,o,a,l,h,u,c,d,f,g,p=i[0],m=i[1],_=i[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*_+e[12],t[13]=e[1]*p+e[5]*m+e[9]*_+e[13],t[14]=e[2]*p+e[6]*m+e[10]*_+e[14],t[15]=e[3]*p+e[7]*m+e[11]*_+e[15]):(n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=e[7],c=e[8],d=e[9],f=e[10],g=e[11],t[0]=n,t[1]=s,t[2]=r,t[3]=o,t[4]=a,t[5]=l,t[6]=h,t[7]=u,t[8]=c,t[9]=d,t[10]=f,t[11]=g,t[12]=n*p+a*m+c*_+e[12],t[13]=s*p+l*m+d*_+e[13],t[14]=r*p+h*m+f*_+e[14],t[15]=o*p+u*m+g*_+e[15]),t}function l(t,e,i){var n=i[0],s=i[1],r=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function h(t,e,i,s){var r,o,a,l,h,u,c,d,f,g,p,m,_,v,w,b,y,k,x,F,A,B,E,I,S=s[0],P=s[1],R=s[2],C=Math.hypot(S,P,R);return C<n.Ib?null:(S*=C=1/C,P*=C,R*=C,r=Math.sin(i),a=1-(o=Math.cos(i)),l=e[0],h=e[1],u=e[2],c=e[3],d=e[4],f=e[5],g=e[6],p=e[7],m=e[8],_=e[9],v=e[10],w=e[11],b=S*S*a+o,y=P*S*a+R*r,k=R*S*a-P*r,x=S*P*a-R*r,F=P*P*a+o,A=R*P*a+S*r,B=S*R*a+P*r,E=P*R*a-S*r,I=R*R*a+o,t[0]=l*b+d*y+m*k,t[1]=h*b+f*y+_*k,t[2]=u*b+g*y+v*k,t[3]=c*b+p*y+w*k,t[4]=l*x+d*F+m*A,t[5]=h*x+f*F+_*A,t[6]=u*x+g*F+v*A,t[7]=c*x+p*F+w*A,t[8]=l*B+d*E+m*I,t[9]=h*B+f*E+_*I,t[10]=u*B+g*E+v*I,t[11]=c*B+p*E+w*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function u(t,e,i){var n=Math.sin(i),s=Math.cos(i),r=e[4],o=e[5],a=e[6],l=e[7],h=e[8],u=e[9],c=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*s+h*n,t[5]=o*s+u*n,t[6]=a*s+c*n,t[7]=l*s+d*n,t[8]=h*s-r*n,t[9]=u*s-o*n,t[10]=c*s-a*n,t[11]=d*s-l*n,t}function c(t,e,i){var n=Math.sin(i),s=Math.cos(i),r=e[0],o=e[1],a=e[2],l=e[3],h=e[8],u=e[9],c=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*s-h*n,t[1]=o*s-u*n,t[2]=a*s-c*n,t[3]=l*s-d*n,t[8]=r*n+h*s,t[9]=o*n+u*s,t[10]=a*n+c*s,t[11]=l*n+d*s,t}function d(t,e,i,n,s){var r,o=1/Math.tan(e/2);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0?(r=1/(n-s),t[10]=(s+n)*r,t[14]=2*s*n*r):(t[10]=-1,t[14]=-2*n),t}},2568:function(t,e,i){var n,s,r,o,a;n=i(1012),s=i(487).utf8,r=i(76),o=i(487).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?o.stringToBytes(t):s.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=n.bytesToWords(t),l=8*t.length,h=1732584193,u=-271733879,c=-1732584194,d=271733878,f=0;f<i.length;f++)i[f]=16711935&(i[f]<<8|i[f]>>>24)|4278255360&(i[f]<<24|i[f]>>>8);i[l>>>5]|=128<<l%32,i[14+(l+64>>>9<<4)]=l;var g=a._ff,p=a._gg,m=a._hh,_=a._ii;for(f=0;f<i.length;f+=16){var v=h,w=u,b=c,y=d;h=g(h,u,c,d,i[f+0],7,-680876936),d=g(d,h,u,c,i[f+1],12,-389564586),c=g(c,d,h,u,i[f+2],17,606105819),u=g(u,c,d,h,i[f+3],22,-1044525330),h=g(h,u,c,d,i[f+4],7,-176418897),d=g(d,h,u,c,i[f+5],12,1200080426),c=g(c,d,h,u,i[f+6],17,-1473231341),u=g(u,c,d,h,i[f+7],22,-45705983),h=g(h,u,c,d,i[f+8],7,1770035416),d=g(d,h,u,c,i[f+9],12,-1958414417),c=g(c,d,h,u,i[f+10],17,-42063),u=g(u,c,d,h,i[f+11],22,-1990404162),h=g(h,u,c,d,i[f+12],7,1804603682),d=g(d,h,u,c,i[f+13],12,-40341101),c=g(c,d,h,u,i[f+14],17,-1502002290),h=p(h,u=g(u,c,d,h,i[f+15],22,1236535329),c,d,i[f+1],5,-165796510),d=p(d,h,u,c,i[f+6],9,-1069501632),c=p(c,d,h,u,i[f+11],14,643717713),u=p(u,c,d,h,i[f+0],20,-373897302),h=p(h,u,c,d,i[f+5],5,-701558691),d=p(d,h,u,c,i[f+10],9,38016083),c=p(c,d,h,u,i[f+15],14,-660478335),u=p(u,c,d,h,i[f+4],20,-405537848),h=p(h,u,c,d,i[f+9],5,568446438),d=p(d,h,u,c,i[f+14],9,-1019803690),c=p(c,d,h,u,i[f+3],14,-187363961),u=p(u,c,d,h,i[f+8],20,1163531501),h=p(h,u,c,d,i[f+13],5,-1444681467),d=p(d,h,u,c,i[f+2],9,-51403784),c=p(c,d,h,u,i[f+7],14,1735328473),h=m(h,u=p(u,c,d,h,i[f+12],20,-1926607734),c,d,i[f+5],4,-378558),d=m(d,h,u,c,i[f+8],11,-2022574463),c=m(c,d,h,u,i[f+11],16,1839030562),u=m(u,c,d,h,i[f+14],23,-35309556),h=m(h,u,c,d,i[f+1],4,-1530992060),d=m(d,h,u,c,i[f+4],11,1272893353),c=m(c,d,h,u,i[f+7],16,-155497632),u=m(u,c,d,h,i[f+10],23,-1094730640),h=m(h,u,c,d,i[f+13],4,681279174),d=m(d,h,u,c,i[f+0],11,-358537222),c=m(c,d,h,u,i[f+3],16,-722521979),u=m(u,c,d,h,i[f+6],23,76029189),h=m(h,u,c,d,i[f+9],4,-640364487),d=m(d,h,u,c,i[f+12],11,-421815835),c=m(c,d,h,u,i[f+15],16,530742520),h=_(h,u=m(u,c,d,h,i[f+2],23,-995338651),c,d,i[f+0],6,-198630844),d=_(d,h,u,c,i[f+7],10,1126891415),c=_(c,d,h,u,i[f+14],15,-1416354905),u=_(u,c,d,h,i[f+5],21,-57434055),h=_(h,u,c,d,i[f+12],6,1700485571),d=_(d,h,u,c,i[f+3],10,-1894986606),c=_(c,d,h,u,i[f+10],15,-1051523),u=_(u,c,d,h,i[f+1],21,-2054922799),h=_(h,u,c,d,i[f+8],6,1873313359),d=_(d,h,u,c,i[f+15],10,-30611744),c=_(c,d,h,u,i[f+6],15,-1560198380),u=_(u,c,d,h,i[f+13],21,1309151649),h=_(h,u,c,d,i[f+4],6,-145523070),d=_(d,h,u,c,i[f+11],10,-1120210379),c=_(c,d,h,u,i[f+2],15,718787259),u=_(u,c,d,h,i[f+9],21,-343485551),h=h+v>>>0,u=u+w>>>0,c=c+b>>>0,d=d+y>>>0}return n.endian([h,u,c,d])})._ff=function(t,e,i,n,s,r,o){var a=t+(e&i|~e&n)+(s>>>0)+o;return(a<<r|a>>>32-r)+e},a._gg=function(t,e,i,n,s,r,o){var a=t+(e&n|i&~n)+(s>>>0)+o;return(a<<r|a>>>32-r)+e},a._hh=function(t,e,i,n,s,r,o){var a=t+(e^i^n)+(s>>>0)+o;return(a<<r|a>>>32-r)+e},a._ii=function(t,e,i,n,s,r,o){var a=t+(i^(e|~n))+(s>>>0)+o;return(a<<r|a>>>32-r)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var i=n.wordsToBytes(a(t,e));return e&&e.asBytes?i:e&&e.asString?o.bytesToString(i):n.bytesToHex(i)}},76:function(t){function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}}}]);